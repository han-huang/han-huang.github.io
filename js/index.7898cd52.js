(function(e){function t(t){for(var r,o,u=t[0],s=t[1],i=t[2],l=0,d=[];l<u.length;l++)o=u[l],Object.prototype.hasOwnProperty.call(c,o)&&c[o]&&d.push(c[o][0]),c[o]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);m&&m(t);while(d.length)d.shift()();return a.push.apply(a,i||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,o=1;o<n.length;o++){var u=n[o];0!==c[u]&&(r=!1)}r&&(a.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},o={index:0},c={index:0},a=[];function u(e){return s.p+"js/"+({}[e]||e)+"."+{"chunk-11cf1812":"87455424","chunk-2d0e454c":"29771a10","chunk-2d208bfd":"7bc8e0b9","chunk-2d215cc0":"08278d3b","chunk-201168dd":"85431850","chunk-1f25da71":"e6b7feb2","chunk-21e4edfe":"8fe29d64","chunk-2d0d8018":"54f46dc0","chunk-3691ef0c":"df79b8da","chunk-3850180e":"cc2f9f7e","chunk-515f29ce":"0f305a5a","chunk-5b3e77dd":"40a8b3fb","chunk-5b3fb122":"e6bdcd23","chunk-5b57a368":"8cfca5dc","chunk-b39db382":"a82f8a82","chunk-00e9c034":"83e623ed","chunk-2d0b93c5":"5b45d8f8","chunk-ea717a02":"06f72cee","chunk-fe33b606":"1be235f2","chunk-23b5b47c":"4578ca37","chunk-42aa65d2":"55bd5181","chunk-5c427486":"0ab33be4","chunk-60b9870c":"aabeefb5","chunk-65b25abe":"247e235b","chunk-6bc3163e":"dcca702f","chunk-73be63b8":"4f3a7f11","chunk-75052bcc":"348370f4","chunk-7f708830":"f267b4b0","chunk-0b12448d":"f7ff18fa","chunk-b51a5c2c":"0c4054d1","chunk-2d2304b0":"7761f83a","chunk-3331b498":"db628626","chunk-6098687b":"eedcf9f6","chunk-02127e7a":"436559d4","chunk-b8efee8a":"a6780fa9","chunk-2d0b8e72":"4d0a21d2"}[e]+".js"}function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n={"chunk-11cf1812":1,"chunk-201168dd":1,"chunk-1f25da71":1,"chunk-21e4edfe":1,"chunk-3691ef0c":1,"chunk-3850180e":1,"chunk-515f29ce":1,"chunk-b39db382":1,"chunk-00e9c034":1,"chunk-ea717a02":1,"chunk-fe33b606":1,"chunk-23b5b47c":1,"chunk-5c427486":1,"chunk-60b9870c":1,"chunk-65b25abe":1,"chunk-6bc3163e":1,"chunk-73be63b8":1,"chunk-75052bcc":1,"chunk-7f708830":1,"chunk-0b12448d":1,"chunk-b51a5c2c":1,"chunk-3331b498":1,"chunk-6098687b":1,"chunk-b8efee8a":1};o[e]?t.push(o[e]):0!==o[e]&&n[e]&&t.push(o[e]=new Promise((function(t,n){for(var r="css/"+({}[e]||e)+"."+{"chunk-11cf1812":"b12f4168","chunk-2d0e454c":"31d6cfe0","chunk-2d208bfd":"31d6cfe0","chunk-2d215cc0":"31d6cfe0","chunk-201168dd":"2bfd3815","chunk-1f25da71":"7f9bbc1f","chunk-21e4edfe":"bb7efdc5","chunk-2d0d8018":"31d6cfe0","chunk-3691ef0c":"4c8c2846","chunk-3850180e":"2435d4a2","chunk-515f29ce":"6056dedc","chunk-5b3e77dd":"31d6cfe0","chunk-5b3fb122":"31d6cfe0","chunk-5b57a368":"31d6cfe0","chunk-b39db382":"6056dedc","chunk-00e9c034":"2b4734a2","chunk-2d0b93c5":"31d6cfe0","chunk-ea717a02":"c574ad45","chunk-fe33b606":"02b03ca8","chunk-23b5b47c":"5fa3f721","chunk-42aa65d2":"31d6cfe0","chunk-5c427486":"6056dedc","chunk-60b9870c":"99d55a8a","chunk-65b25abe":"aa8e3305","chunk-6bc3163e":"488c8101","chunk-73be63b8":"71a4ba66","chunk-75052bcc":"c50412a8","chunk-7f708830":"6056dedc","chunk-0b12448d":"2b4734a2","chunk-b51a5c2c":"1d89bea5","chunk-2d2304b0":"31d6cfe0","chunk-3331b498":"7039a445","chunk-6098687b":"08315448","chunk-02127e7a":"31d6cfe0","chunk-b8efee8a":"63e1db9b","chunk-2d0b8e72":"31d6cfe0"}[e]+".css",c=s.p+r,a=document.getElementsByTagName("link"),u=0;u<a.length;u++){var i=a[u],l=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(l===r||l===c))return t()}var d=document.getElementsByTagName("style");for(u=0;u<d.length;u++){i=d[u],l=i.getAttribute("data-href");if(l===r||l===c)return t()}var m=document.createElement("link");m.rel="stylesheet",m.type="text/css",m.onload=t,m.onerror=function(t){var r=t&&t.target&&t.target.src||c,a=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");a.code="CSS_CHUNK_LOAD_FAILED",a.request=r,delete o[e],m.parentNode.removeChild(m),n(a)},m.href=c;var h=document.getElementsByTagName("head")[0];h.appendChild(m)})).then((function(){o[e]=0})));var r=c[e];if(0!==r)if(r)t.push(r[2]);else{var a=new Promise((function(t,n){r=c[e]=[t,n]}));t.push(r[2]=a);var i,l=document.createElement("script");l.charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.src=u(e);var d=new Error;i=function(t){l.onerror=l.onload=null,clearTimeout(m);var n=c[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+r+": "+o+")",d.name="ChunkLoadError",d.type=r,d.request=o,n[1](d)}c[e]=void 0}};var m=setTimeout((function(){i({type:"timeout",target:l})}),12e4);l.onerror=l.onload=i,document.head.appendChild(l)}return Promise.all(t)},s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/",s.oe=function(e){throw console.error(e),e};var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var d=0;d<i.length;d++)t(i[d]);var m=l;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"00c2":function(e,t,n){"use strict";var r="demo.authentication",o=function(){var e=window.localStorage.getItem(r);return e?JSON.parse(e).token:null};t["a"]={getToken:o}},"2f9f":function(e,t,n){e.exports=n.p+"img/9789865025960.38bc0eff.webp"},"325c":function(e,t,n){"use strict";var r=n("8897");function o(e,t){return e+Math.floor(Math.random()*(t-e+1))}function c(e){var t=/^JWT expired.*$/;return t.test(e)}function a(e,t){var n="";return c(e.response.data.message)?(n=r["c"],t.$store.dispatch("auth/purgeAuth"),console.log("that.$route.path",t.$route.path),t.$router.push({path:"/login",query:{redirect:t.$route.path}})):n=e.response.data.message,n}t["a"]={rand:o,testJWTExpiredMsg:c,checkJWTExpired:a}},4360:function(e,t,n){"use strict";var r=n("2b0e"),o=n("2f62"),c=(n("7db0"),n("c740"),n("4160"),n("a434"),n("b0c0"),n("d3b7"),n("159b"),function(){return{items:[]}}),a={cartProducts:function(e,t,n){return e.items}},u={refresh:function(e){var t=e.commit;t("refresh")},toggleAll:function(e,t){var n=e.commit;n("refresh"),n("toggleAll",t)},setChecked:function(e,t){var n=e.commit;n("refresh"),n("setChecked",t)},changeQuantityState:function(e,t){var n=e.commit;n("changeQuantityState",t)},changeQuantity:function(e,t){var n=e.commit,r=e.state,o=e.rootState;return new Promise((function(e,c){n("products/refresh",null,{root:!0}),n("refresh");var a=!1,u=r.items.find((function(e){return e.isbn===t.isbn}));if(u){var s=o.products.items.find((function(e){return e.isbn===t.isbn}));s.inventory<t.quantity&&(a=!0,t.quantity=s.inventory),n("changeQuantity",{isbn:t.isbn,quantity:t.quantity}),console.log("productItem.inventory",s.inventory,t.isbn,u.quantity),a&&c("超出庫存數量")}else c("購物車內無此商品")}))},addProductToCart:function(e,t){var n=e.commit,r=e.state;return new Promise((function(e,o){n("refresh");var c=r.items.find((function(e){return e.isbn===t.isbn}));c?(console.log("it already exists in cart",t.title,t.isbn),o("商品已在購物車")):(n("pushProductToCart",{isbn:t.isbn,name:t.title,src:t.img,listPrice:t.listPrice,discount:t.discount}),e("已放入購物車"))}))},deleteItem:function(e,t){var n=e.commit;e.state;n("refresh"),n("deleteItem",{index:t.index,isbn:t.isbn})},deleteSelected:function(e,t){var n=e.commit;n("refresh"),n("deleteSelected")},clearState:function(e){var t=e.commit;t("clearState")}},s={pushProductToCart:function(e,t){var n=t.isbn,r=t.name,o=t.src,c=t.listPrice,a=t.discount;e.items.push({isbn:n,name:r,src:o,listPrice:c,discount:a,quantity:1,quantityState:null,checked:!1}),localStorage.setItem("demo.cart.items",JSON.stringify(e.items))},refresh:function(e){console.log("cart.js refresh"),e.items=JSON.parse(localStorage.getItem("demo.cart.items"))||[]},clearState:function(e){e.items=[],localStorage.removeItem("demo.cart.items")},incrementItemQuantity:function(e,t){var n=t.isbn,r=e.items.find((function(e){return e.isbn===n}));r.quantity++},deleteItem:function(e,t){var n=t.isbn,r=e.items.findIndex((function(e){return e.isbn===n}));console.log("deleteItem: isbn",n,"index",r),-1!=r&&(e.items.splice(r,1),localStorage.setItem("demo.cart.items",JSON.stringify(e.items)))},deleteSelected:function(e){for(var t=e.items.length-1;t>=0;t--)1==e.items[t].checked&&e.items.splice(t,1);localStorage.setItem("demo.cart.items",JSON.stringify(e.items))},toggleAll:function(e,t){e.items.forEach((function(e){e.checked=t})),localStorage.setItem("demo.cart.items",JSON.stringify(e.items))},setChecked:function(e,t){var n=t.isbn,r=t.checked,o=e.items.findIndex((function(e){return e.isbn==n}));-1!=o&&(e.items[o].checked=r,localStorage.setItem("demo.cart.items",JSON.stringify(e.items))),console.log(n,r,o)},changeQuantityState:function(e,t){var n=t.isbn,r=t.quantityState,o=e.items.findIndex((function(e){return e.isbn==n}));-1!=o&&(e.items[o].quantityState=r,localStorage.setItem("demo.cart.items",JSON.stringify(e.items))),console.log(n,r,o)},changeQuantity:function(e,t){var n=t.isbn,r=t.quantity,o=e.items.findIndex((function(e){return e.isbn==n}));-1!=o&&(e.items[o].quantity=r,localStorage.setItem("demo.cart.items",JSON.stringify(e.items)))}},i={namespaced:!0,state:c,getters:a,actions:u,mutations:s},l=(n("fb6a"),n("96cf"),n("1da1")),d=n("5ce5"),m=n("325c"),h=function(){return{items:[],book:null,newReleases:[],weeklyHot:[],monthlyHot:[],seasonalHot:[],yearlyHot:[]}},f={getItems:function(e){return console.log("getItems"),e.items},getBook:function(e){return console.log("getBook"),e.book},getNewReleases:function(e){return console.log("getNewReleases"),e.newReleases},getWeeklyHot:function(e){return console.log("getWeeklyHot"),e.weeklyHot},getMonthlyHot:function(e){return console.log("getMonthlyHot"),e.monthlyHot},getSeasonalHot:function(e){return console.log("getSeasonalHot"),e.seasonalHot},getYearlyHot:function(e){return console.log("getYearlyHot"),e.yearlyHot}},b={refresh:function(e){e.items=JSON.parse(localStorage.getItem("demo.products.items"))||[]},changeInventory:function(e,t){var n=e.items.findIndex((function(e){return e.isbn===t.isbn}));-1!=n&&(e.items[n].inventory=t.inventory,console.log("products.js changeInventory product.isbn",t.isbn),e.book&&e.book.isbn===t.isbn&&(console.log("products.js changeInventory state.book.isbn",e.book.isbn),e.book.inventory=t.inventory),localStorage.setItem("demo.products.items",JSON.stringify(e.items)))},setBook:function(e,t){e.book=t},addProduct:function(e,t){console.log("mutations addProduct");var n=e.items.findIndex((function(e){return e.isbn===t.isbn}));-1!=n&&e.items.splice(n,1),e.items.push(t),localStorage.setItem("demo.products.items",JSON.stringify(e.items))},setNewReleases:function(e,t){console.log("setNewReleases",JSON.stringify(t)),e.newReleases=JSON.parse(JSON.stringify(t))},setHotProducts:function(e,t){var n=t.weeklyHot,r=t.monthlyHot,o=t.seasonalHot,c=t.yearlyHot;console.log("products.js weeklyHot",JSON.stringify(n)),e.weeklyHot=JSON.parse(JSON.stringify(n)),console.log("products.js monthlyHot",JSON.stringify(r)),e.monthlyHot=JSON.parse(JSON.stringify(r)),console.log("products.js seasonalHot",JSON.stringify(o)),e.seasonalHot=JSON.parse(JSON.stringify(o)),console.log("products.js yearlyHot",JSON.stringify(c)),e.yearlyHot=JSON.parse(JSON.stringify(c))}},p={refresh:function(e){var t=e.commit;t("refresh")},addProduct:function(e,t){var n=e.commit;n("refresh"),n("addProduct",t)},getProduct:function(e,t){var n=e.commit;return n("refresh"),new Promise((function(e,r){d["a"].get("products",t).then((function(t){console.log("getProduct response : "+JSON.stringify(t)),console.log("getProduct response.status : "+t.status),n("addProduct",t.data),n("setBook",t.data),e(JSON.parse(JSON.stringify(t.data)))})).catch((function(e){console.log("getProduct err : "+e),e.response?(console.log("getProduct err.response : "+JSON.stringify(e.response)),console.log("getProduct err.response.status : "+e.response.status),r(e.response.data.message)):r(e)}))}))},changeInventory:function(e,t){var n=e.commit;n("refresh"),n("changeInventory",t)},getServerProductInventory:function(e,t){e.commit;return new Promise((function(e,n){d["a"].post("products/inventory",{isbn:t}).then((function(t){console.log("response : "+JSON.stringify(t)),e(t.data)})).catch((function(e){console.log("err : "+e),console.log("err.response : "+JSON.stringify(e.response)),e.response?n(e.response.data):n(e)}))}))},getNewBookReleases:function(e){return Object(l["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.next=3,d["a"].get("home/newBookReleases");case 3:return r=t.sent,console.log("newReleases",JSON.stringify(r)),n("setNewReleases",r.data),t.abrupt("return",r.data);case 7:case"end":return t.stop()}}),t)})))()},getHotSale:function(e){return Object(l["a"])(regeneratorRuntime.mark((function t(){var n,r,o,c,a,u,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.next=3,d["a"].get("home/booksOrderByPublicationDateDesc");case 3:return r=t.sent,console.log("hotSale",JSON.stringify(r)),o=r.data,c=o.slice(0,5),a=o.slice(5,10),u=o.slice(10,15),s=JSON.parse(JSON.stringify(o.slice(15,18))),s.push(o[m["a"].rand(0,8)]),s.push(o[m["a"].rand(8,14)]),n("setHotProducts",{weeklyHot:c,monthlyHot:a,seasonalHot:u,yearlyHot:s}),t.abrupt("return",o);case 14:case"end":return t.stop()}}),t)})))()}},g={namespaced:!0,state:h,getters:f,actions:p,mutations:b},k=(n("b64b"),n("00c2"),function(){return{user:{},captcha:"",uuid:"",buyer:{}}}),y={currentUser:function(e){return e.user},isAuthenticated:function(e){return 0!==Object.keys(e.user).length&&!!e.user.token},uuid:function(e){return e.uuid},captcha:function(e){return e.captcha},getBuyer:function(e){return e.buyer}},v={refresh:function(e){e.user=JSON.parse(localStorage.getItem("demo.authentication"))||{},e.buyer=JSON.parse(localStorage.getItem("demo.buyer"))||{}},setAuth:function(e,t){e.user=t,localStorage.setItem("demo.authentication",JSON.stringify(e.user))},clearAuth:function(e){e.user={},localStorage.removeItem("demo.authentication")},clearBuyer:function(e){e.buyer={},localStorage.removeItem("demo.buyer")},setCaptcha:function(e,t){var n=t.uuid,r=t.captcha;e.uuid=n,e.captcha=r},setBuyer:function(e,t){e.buyer=JSON.parse(JSON.stringify(t)),localStorage.setItem("demo.buyer",JSON.stringify(e.buyer))}},S={refresh:function(e){var t=e.commit;t("refresh")},getCaptcha:function(e){var t=e.commit;return new Promise((function(e,n){d["a"].get("captcha/create").then((function(r){console.log("getCaptcha response : "+JSON.stringify(r)),console.log("getCaptcha response.status : "+r.status),r.data.uuid?(t("setCaptcha",{uuid:r.data.uuid,captcha:r.data.base64Img}),e(r.data)):(console.log("captcha/create : reject(response.data)"),n(r.data))})).catch((function(e){console.log("getCaptcha err : "+e),e.response?(console.log("getCaptcha err.response : "+JSON.stringify(e.response)),n(e.response.data.message)):n(e)}))}))},refreshCaptcha:function(e){var t=e.commit,n=e.state;return new Promise((function(e,r){d["a"].get("captcha/refresh",n.uuid).then((function(n){console.log("refreshCaptcha response : "+JSON.stringify(n)),console.log("refreshCaptcha response.status : "+n.status),n.data.uuid&&(t("setCaptcha",{uuid:n.data.uuid,captcha:n.data.base64Img}),e(n.data))})).catch((function(e){console.log("refreshCaptcha err : "+e),console.log("refreshCaptcha err.response : "+JSON.stringify(e.response)),console.log("refreshCaptcha err.response.status : "+e.response.status),e.response?r(e.response.data.message):r(e)}))}))},login:function(e,t){var n=e.commit,r=e.state,o=t.name,c=t.password,a=t.code;return new Promise((function(e,t){d["a"].post("jwt/login",{name:o,password:c,uuid:r.uuid,code:a}).then((function(t){console.log("response : "+JSON.stringify(t)),n("setAuth",{name:o,token:t.data.token,chName:t.data.chName}),e(t.data.message)})).catch((function(e){console.log("err : "+e),console.log("err.response : "+JSON.stringify(e.response)),e.response?t(e.response.data):t(e)}))}))},logout:function(e){var t=e.commit;t("clearAuth"),t("clearBuyer")},purgeAuth:function(e){var t=e.commit;console.log("purgeAuth"),t("clearAuth")},setBuyer:function(e,t){var n=e.commit;e.state;n("setBuyer",t)}},N={namespaced:!0,state:k,getters:y,actions:S,mutations:v},O={deliver:"postalDelivery",payment:"COD",invoiceType:"paper",receiverInfo:"same",zipcode:"200",county:"",district:"",receiverName:"",receiverNameState:null,receiverArea:"",receiverAreaState:null,receiverPhone:"",receiverPhoneState:null,receiverExt:"",receiverExtState:null,receiverMobile:"",receiverMobileState:null,receiverAddress:"",receiverAddressState:null},P={deliver:"postalDelivery",payment:"COD",invoiceType:"paper",receiverInfo:"same",zipcode:"200",county:"",district:"",receiverName:"",receiverNameState:null,receiverArea:"",receiverAreaState:null,receiverPhone:"",receiverPhoneState:null,receiverExt:"",receiverExtState:null,receiverMobile:"",receiverMobileState:null,receiverAddress:"",receiverAddressState:null},I={getState:function(e){return console.log("deliver.js getState",JSON.stringify(e)),e}},w={refresh:function(e){console.log("deliver refresh",JSON.parse(localStorage.getItem("demo.deliver.state")));var t=JSON.parse(localStorage.getItem("demo.deliver.state"))||P;if(t)for(var n=0,r=Object.keys(t);n<r.length;n++){var o=r[n];e[o]=t[o]}console.log("deliver after refresh - state",JSON.stringify(e))},setState:function(e){localStorage.setItem("demo.deliver.state",JSON.stringify(e))},setProperty:function(e,t){e[t.key]=t.value},clearState:function(e){localStorage.removeItem("demo.deliver.state")}},C={refresh:function(e){var t=e.commit;t("refresh")},clearState:function(e){var t=e.commit;t("clearState")},setState:function(e){var t=e.commit;t("setState")},setProperty:function(e,t){var n=e.commit;n("setProperty",t)}},J={namespaced:!0,state:O,getters:I,actions:C,mutations:w},x=function(){return{show:!1,msg:""}},A={modalShow:function(e){return console.log("modal.js modalShow",e.show),e.show},modalMsg:function(e){return console.log("modal.js modalMsg",e.msg),e.msg}},M={refresh:function(e){console.log("modal.js refresh")},setModalShow:function(e,t){e.show=t},setModalMsg:function(e,t){e.msg=t}},B={refresh:function(e){var t=e.commit;t("refresh")},setModalShow:function(e,t){var n=e.commit;n("setModalShow",t)},setModalMsg:function(e,t){var n=e.commit;n("setModalMsg",t)}},T={namespaced:!0,state:x,getters:A,actions:B,mutations:M},H={orderItems:[],QRCode:"",orderNo:""},j={isCompleted:function(e){return console.log("complete.js isCompleted",e.orderItems.length),!!e.orderItems.length},getOrderNo:function(e){return console.log("complete.js getOrderNo",e.orderNo),e.orderNo},getOrderItems:function(e){return console.log("complete.js getOrderItems",JSON.stringify(e.orderItems)),e.orderItems},getQRCode:function(e){return console.log("complete.js QRCode",e.QRCode),e.QRCode}},q={refresh:function(e){console.log("complete.js refresh"),e.orderItems=JSON.parse(localStorage.getItem("demo.complete.orderItems"))||[],e.QRCode=localStorage.getItem("demo.complete.QRCode")||"",e.orderNo=localStorage.getItem("demo.complete.orderNo")||""},setOrderItems:function(e,t){e.orderItems=JSON.parse(JSON.stringify(t)),localStorage.setItem("demo.complete.orderItems",JSON.stringify(t))},setQRCode:function(e,t){e.QRCode=t,localStorage.setItem("demo.complete.QRCode",t)},setOrderNo:function(e,t){e.orderNo=t,localStorage.setItem("demo.complete.orderNo",t)},clearState:function(e){e.orderItems.splice(0,e.orderItems.length),e.QRCode="",e.orderNo="",localStorage.removeItem("demo.complete.orderItems"),localStorage.removeItem("demo.complete.QRCode"),localStorage.removeItem("demo.complete.orderNo")}},R={refresh:function(e){var t=e.commit;t("refresh")},setOrderItems:function(e,t){var n=e.commit;n("setOrderItems",t)},setQRCode:function(e,t){var n=e.commit;n("setQRCode",t)},setOrderNo:function(e,t){var n=e.commit;n("setOrderNo",t)},clearState:function(e){var t=e.commit;t("clearState")}},E={namespaced:!0,state:H,getters:j,actions:R,mutations:q};r["default"].use(o["a"]);var Q=!1;t["a"]=new o["a"].Store({modules:{cart:i,products:g,auth:N,deliver:J,modal:T,complete:E},strict:Q})},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},c=[],a={name:"Default"},u=a,s=n("2877"),i=Object(s["a"])(u,o,c,!1,null,null,null),l=i.exports,d=n("a18c"),m=n("4360"),h=n("5ce5"),f=n("5f5b"),b=n("0759"),p=n("7386"),g=(n("f9e3"),n("2dd8"),n("ecee")),k=n("b702"),y=n("ad3d"),v=n("5e2b"),S=(n("ee7e"),n("025a")),N=n("f5af"),O=n.n(N);n("e829");r["default"].use(S["a"],{}),r["default"].use(f["a"]),r["default"].component("BIcon",b["a"]),r["default"].component("BIconArrowBarRight",p["a"]),r["default"].component("BIconCartFill",p["f"]),r["default"].component("BIconCalendar3",p["d"]),g["c"].add(k["a"]),r["default"].component("font-awesome-icon",y["a"]),r["default"].use(v["a"]),h["a"].init(),r["default"].config.productionTip=!1,new r["default"]({created:function(){O.a.init()},router:d["a"],store:m["a"],render:function(e){return e(l)}}).$mount("#app")},"5ce5":function(e,t,n){"use strict";n("99af");var r=n("2b0e"),o=n("bc3a"),c=n.n(o),a=n("2106"),u=n.n(a),s=n("00c2"),i=n("a49b"),l={init:function(){r["default"].use(u.a,c.a),r["default"].axios.defaults.baseURL=i["a"]},setHeader:function(){r["default"].axios.defaults.headers.common["Authorization"]="Bearer ".concat(s["a"].getToken())},deleteHeader:function(){delete r["default"].axios.defaults.headers.common["Authorization"]},query:function(e,t){return r["default"].axios.get(e,t)},get:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return r["default"].axios.get("".concat(e,"/").concat(t))},post:function(e,t){return r["default"].axios.post("".concat(e),t)},update:function(e,t,n){return r["default"].axios.put("".concat(e,"/").concat(t),n)},put:function(e,t){return r["default"].axios.put("".concat(e),t)},delete:function(e){return r["default"].axios.delete(e).catch((function(e){throw new Error("ApiService ".concat(e))}))}};t["a"]=l},"673c":function(e,t,n){e.exports=n.p+"img/9789865501532.57ae400f.webp"},8897:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return a}));var r="放入購物車",o="已放入購物車",c="令牌過期, 請重新登入",a="查無資料"},"9fc5":function(e,t,n){e.exports=n.p+"img/9789865025915.37dc333f.webp"},a18c:function(e,t,n){"use strict";(function(e){n("45fc"),n("b0c0"),n("b64b"),n("d3b7");var r=n("2b0e"),o=n("8c4f"),c=n("4360");r["default"].use(o["a"]);var a=new o["a"]({mode:"history",base:e,routes:[{path:"/",component:function(){return Promise.all([n.e("chunk-2d215cc0"),n.e("chunk-201168dd"),n.e("chunk-2d0d8018")]).then(n.bind(null,"78de"))},children:[{path:"",name:"index",component:function(){return Promise.all([n.e("chunk-2d215cc0"),n.e("chunk-201168dd"),n.e("chunk-3850180e")]).then(n.bind(null,"d504"))}},{path:"login",name:"login",component:function(){return Promise.all([n.e("chunk-2d215cc0"),n.e("chunk-42aa65d2")]).then(n.bind(null,"a55b"))},beforeEnter:function(e,t,n){c["a"].getters["auth/isAuthenticated"]?(c["a"].dispatch("modal/setModalMsg","已登入"),c["a"].dispatch("modal/setModalShow",!0),n({name:"index"})):n()}},{path:"product/:isbn",name:"product.isbn",props:!0,component:function(){return Promise.all([n.e("chunk-2d215cc0"),n.e("chunk-6bc3163e")]).then(n.bind(null,"d2f1"))},beforeEnter:function(e,t,n){console.log("beforeEnter: ",e.name,e.params.isbn),n()}},{path:"book/:isbn",name:"book.isbn",props:!0,component:function(){return Promise.all([n.e("chunk-2d215cc0"),n.e("chunk-73be63b8")]).then(n.bind(null,"8bf3"))},beforeEnter:function(e,t,n){console.log("beforeEnter: ",e.name,e.params.isbn),n()}},{path:"shoppingcart",name:"shoppingcart",meta:{requiresAuth:!0},component:function(){return Promise.all([n.e("chunk-7f708830"),n.e("chunk-02127e7a")]).then(n.bind(null,"de9f"))}},{path:"deliver",name:"deliver",meta:{requiresAuth:!0,requiresProduct:!0},component:function(){return Promise.all([n.e("chunk-2d215cc0"),n.e("chunk-5c427486")]).then(n.bind(null,"db2d"))}},{path:"confirm",name:"confirm",meta:{requiresAuth:!0,requiresProduct:!0,requiresUserInfo:!0},component:function(){return Promise.all([n.e("chunk-2d215cc0"),n.e("chunk-7f708830"),n.e("chunk-0b12448d")]).then(n.bind(null,"e116"))}},{path:"complete",name:"complete",meta:{requiresAuth:!0},component:function(){return Promise.all([n.e("chunk-2d215cc0"),n.e("chunk-60b9870c")]).then(n.bind(null,"2df1"))},beforeEnter:function(e,t,n){c["a"].getters["complete/isCompleted"]?n():(c["a"].dispatch("modal/setModalMsg","訂單尚未成立"),c["a"].dispatch("modal/setModalShow",!0),n({name:"index"}))}},{path:"order/:orderNo",name:"order.orderNo",meta:{requiresAuth:!0},component:function(){return Promise.all([n.e("chunk-2d215cc0"),n.e("chunk-65b25abe")]).then(n.bind(null,"cf2a"))},beforeEnter:function(e,t,n){console.log("beforeEnter: ",e.name,e.params.orderNo),n()}},{path:"query",name:"query",meta:{requiresAuth:!0},component:function(){return Promise.all([n.e("chunk-2d215cc0"),n.e("chunk-b51a5c2c")]).then(n.bind(null,"6449"))}},{path:"404",name:"404",component:function(){return n.e("chunk-2d208bfd").then(n.bind(null,"a5b5"))}},{path:"templateRootEmpty",name:"templateRootEmpty",component:function(){return Promise.all([n.e("chunk-2d215cc0"),n.e("chunk-23b5b47c")]).then(n.bind(null,"ec13"))}}]},{path:"/demo",name:"demo",component:function(){return n.e("chunk-3331b498").then(n.bind(null,"b030"))}},{path:"/hello",name:"hello",component:function(){return n.e("chunk-6098687b").then(n.bind(null,"3dfd"))}},{path:"/mylogin",name:"mylogin",component:function(){return Promise.all([n.e("chunk-2d215cc0"),n.e("chunk-201168dd"),n.e("chunk-5b57a368")]).then(n.bind(null,"fe77"))}},{path:"/meal",name:"meal",component:function(){return n.e("chunk-2d2304b0").then(n.bind(null,"ec51"))}},{path:"/imageslider",name:"imageslider",component:function(){return n.e("chunk-b8efee8a").then(n.bind(null,"9aa5"))}},{path:"/imageSliderSecond",name:"imageSliderSecond",component:function(){return n.e("chunk-11cf1812").then(n.bind(null,"def5"))}},{path:"/imageSliderThird",name:"imageSliderThird",component:function(){return Promise.all([n.e("chunk-2d215cc0"),n.e("chunk-75052bcc")]).then(n.bind(null,"1c17"))}},{path:"/myproduct/:isbn",name:"myproduct.isbn",props:!0,component:function(){return Promise.all([n.e("chunk-2d215cc0"),n.e("chunk-201168dd"),n.e("chunk-fe33b606")]).then(n.bind(null,"c87d"))},beforeEnter:function(e,t,n){console.log("beforeEnter: ",e.name,e.params.isbn),n()}},{path:"/productPreliminary",name:"productPreliminary",component:function(){return Promise.all([n.e("chunk-2d215cc0"),n.e("chunk-201168dd"),n.e("chunk-1f25da71")]).then(n.bind(null,"5a56"))}},{path:"/myshoppingcart",name:"myshoppingcart",component:function(){return Promise.all([n.e("chunk-2d215cc0"),n.e("chunk-201168dd"),n.e("chunk-b39db382"),n.e("chunk-2d0b93c5")]).then(n.bind(null,"31a2"))}},{path:"/mydeliver",name:"mydeliver",component:function(){return Promise.all([n.e("chunk-2d215cc0"),n.e("chunk-201168dd"),n.e("chunk-515f29ce")]).then(n.bind(null,"0694"))}},{path:"/myconfirm",name:"myconfirm",component:function(){return Promise.all([n.e("chunk-2d215cc0"),n.e("chunk-201168dd"),n.e("chunk-b39db382"),n.e("chunk-00e9c034")]).then(n.bind(null,"b0df"))}},{path:"/templateEmpty",name:"templateEmpty",component:function(){return Promise.all([n.e("chunk-2d215cc0"),n.e("chunk-201168dd"),n.e("chunk-5b3e77dd")]).then(n.bind(null,"09f1"))}},{path:"/dynamicImport",name:"dynamicImport",component:function(){return n.e("chunk-2d0e454c").then(n.bind(null,"9087"))}},{path:"/home",name:"home",component:function(){return Promise.all([n.e("chunk-2d215cc0"),n.e("chunk-201168dd"),n.e("chunk-21e4edfe")]).then(n.bind(null,"bb51"))}},{path:"/homePreliminary",name:"homePreliminary",component:function(){return Promise.all([n.e("chunk-2d215cc0"),n.e("chunk-201168dd"),n.e("chunk-3691ef0c")]).then(n.bind(null,"5802"))}},{path:"/homeSecond",name:"homeSecond",component:function(){return Promise.all([n.e("chunk-2d215cc0"),n.e("chunk-201168dd"),n.e("chunk-ea717a02")]).then(n.bind(null,"1ddb"))}},{path:"/my404",name:"my404",component:function(){return Promise.all([n.e("chunk-2d215cc0"),n.e("chunk-201168dd"),n.e("chunk-5b3fb122")]).then(n.bind(null,"3161"))}}]});a.beforeEach((function(e,t,n){window.scrollTo(0,0),e.matched.length?(c["a"].dispatch("products/refresh"),c["a"].dispatch("cart/refresh"),c["a"].dispatch("auth/refresh"),c["a"].dispatch("deliver/refresh"),c["a"].dispatch("complete/refresh"),e.matched.some((function(e){return e.meta.requiresAuth}))?c["a"].getters["auth/isAuthenticated"]?e.matched.some((function(e){return e.meta.requiresProduct}))?(console.log("requiresProduct"),0==c["a"].getters["cart/cartProducts"].length?(c["a"].dispatch("modal/setModalMsg","購物車無商品, 請先選購商品"),c["a"].dispatch("modal/setModalShow",!0),n({name:"index"})):n()):e.matched.some((function(e){return e.meta.requiresUserInfo}))?(console.log("requiresUserInfo",c["a"].getters["auth/getBuyer"]),console.log("Object.keys(store.getters['auth/getBuyer']).length",Object.keys(c["a"].getters["auth/getBuyer"]).length),0==Object.keys(c["a"].getters["auth/getBuyer"]).length?(c["a"].dispatch("modal/setModalMsg","請先輸入付款方式及寄送資訊"),c["a"].dispatch("modal/setModalShow",!0),console.log("next deliver"),n({name:"deliver"})):n()):n():n({path:"/login",query:{redirect:e.fullPath}}):n()):n("/404")})),t["a"]=a}).call(this,"/")},a49b:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=[{label:"商管理財",url:"#"},{label:"文學小說",url:"#"},{label:"心靈健康",nodes:[{label:"心理勵志",nodes:[{label:"心靈成長",url:"#"},{label:"人際關係",url:"#"},{label:"心理學",nodes:[{label:"心理學理論",url:"#"},{label:"心理學案例",url:"#"}]},{label:"勵志故事",url:"#"}]},{label:"潛能開發",url:"#"}]},{label:"生活休閒",nodes:[{label:"旅遊",url:"#"},{label:"居家嗜好",url:"#"},{label:"美食休閒",url:"#"}]},{label:"電腦資訊",nodes:[{label:"作業系統",url:"#"},{label:"資料庫/大數據",url:"#"},{label:"程式設計/APP開發",nodes:[{label:"C/C++/C#",url:"#"},{label:"Swift",url:"#"},{label:"Objective-C",url:"#"},{label:"Java",url:"#"},{label:"Python",url:"#"},{label:"VisualBasic",url:"#"},{label:"演算法",url:"#"},{label:"APP開發",url:"#"},{label:"遊戲開發",url:"#"}]},{label:"網頁開發設計",url:"#"},{label:"網路/架站",url:"#"},{label:"辦公軟體應用",url:"#"}]}],o=[{src:n("9fc5"),url:"/product/9789865025915"},{src:n("2f9f"),url:"/product/9789865025960"},{src:n("ec06"),url:"/product/9789865025991"},{src:n("ac54"),url:"/product/9789865026035"},{src:n("673c"),url:"/product/9789865501532"}],c=["當週熱銷","當月熱銷","當季熱銷","年度熱銷"],a={name:"MyHeader",children:[{name:"hello",url:"/MyTree/hello"},{name:"item",url:"/MyTree/item"},{name:"ChildFolder",children:[{name:"ChildFolder",children:[{name:"hello",url:"/MyTree/ChildFolder/ChildFolder/hello"},{name:"item",url:"/MyTree/ChildFolder/ChildFolder/item"}]},{name:"hello",url:"/MyTree/ChildFolder/hello"},{name:"item",url:"/MyTree/ChildFolder/item"},{name:"MyFolder",children:[{name:"hello",url:"/MyTree/ChildFolder/MyFolder/hello"},{name:"item",url:"/MyTree/ChildFolder/MyFolder/item"}]}]}]},u="btn btn-info dropdown-toggle",s="myBtnID",i=[{key:"checkbox",label:""},{key:"pic",label:""},{key:"name",label:"商品名稱",thStyle:{width:"300px"}},{key:"listPrice",label:"定價(NT$)"},{key:"salePrice",label:"售價(NT$)"},{key:"quantity",label:"數量"},{key:"subtotal",label:"小計(NT$)"},{key:"changeItem",label:"變更明細"}],l=[{key:"name",label:"商品名稱",thClass:"bg-LightSteelBlue",thStyle:{width:"400px"}},{key:"listPrice",label:"定價(NT$)",thClass:"bg-LightSteelBlue"},{key:"salePrice",label:"售價(NT$)",thClass:"bg-LightSteelBlue"},{key:"quantity",label:"數量",thClass:"bg-LightSteelBlue"},{key:"subtotal",label:"小計(NT$)",thClass:"bg-LightSteelBlue"}],d=[{key:"name",label:"商品名稱",thClass:"bg-AliceBlue",thStyle:{width:"400px"}},{key:"listPrice",label:"定價(NT$)",thClass:"bg-AliceBlue"},{key:"salePrice",label:"售價(NT$)",thClass:"bg-AliceBlue"},{key:"quantity",label:"數量",thClass:"bg-AliceBlue"},{key:"subtotal",label:"小計(NT$)",thClass:"bg-AliceBlue"}],m=[{key:"orderNo",label:"訂單編號",thClass:"bg-AliceBlue"},{key:"createTime",label:"訂單時間",thClass:"bg-AliceBlue"},{key:"orderStatus",label:"訂單狀態",thClass:"bg-AliceBlue"},{key:"amount",label:"訂單金額(NT$)",thClass:"bg-AliceBlue"},{key:"invoiceNumber",label:"發票號碼",thClass:"bg-AliceBlue"}],h="https://han-huang.herokuapp.com/";t["b"]={treeMenu:r,banner:o,tabTiles:c,menuData:a,btnClass:u,btnID:s,shoppingcartFields:i,confirmFields:l,orderFields:d,queryOrderFields:m,API_URL:h}},ac54:function(e,t,n){e.exports=n.p+"img/9789865026035.32a3a938.webp"},ec06:function(e,t,n){e.exports=n.p+"img/9789865025991.28fabfc1.webp"}});
//# sourceMappingURL=index.7898cd52.js.map