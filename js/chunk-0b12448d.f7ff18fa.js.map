{"version":3,"sources":["webpack:///./src/views/Confirm.vue?3169","webpack:///./src/views/Confirm.vue?5f4e","webpack:///src/views/Confirm.vue","webpack:///./src/views/Confirm.vue?b0f0","webpack:///./src/views/Confirm.vue?7f7f"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","ref","fields","items","scopedSlots","_u","key","fn","data","domProps","_s","value","item","isbn","salePrice","calSubTotal","length","totalQuantity","totalAmount","getDeliver","getPayment","getInvoiceType","getBuyer","name","contactNumber","mobile","address","getReceiverName","getContactNumber","getMobile","getAddress","on","$event","goDeliver","checkout","backToHome","orderItems","orderDetail","getQRCode","staticRenderFns","config","orderNo","orderDate","orderAmount","QRCode","components","computed","$store","getters","getState","deliver","payment","invoiceType","isReceiverInfoNew","receiverName","receiverMobile","methods","receiverInfo","$router","push","calSalePrice","Math","round","quantity","createReqObj","obj","console","log","JSON","stringify","bookArray","reqObj","emptyQuantityArray","completeOrder","訂單編號","order","訂單日期","訂單金額","dispatch","itemArray","qrcode","showOrder","parse","$refs","show","showModal","mounted","created","component"],"mappings":"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","file":"js/chunk-0b12448d.f7ff18fa.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Confirm.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Confirm.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b-row',[_c('div',{staticClass:\"col-md-12\"},[_c('div',{staticClass:\"progressbar-container text-center\"},[_c('ul',{staticClass:\"progressbar\"},[_c('li',{staticClass:\"progressbar-done\"},[_vm._v(\"檢視購物車\")]),_c('li',{staticClass:\"progressbar-done\"},[_vm._v(\"付款方式及寄送資訊\")]),_c('li',{staticClass:\"progressbar-active\"},[_vm._v(\"確認訂單資料\")]),_c('li',[_vm._v(\"訂單成立\")])])])])]),_c('b-row',{staticClass:\"mt-3\"},[_c('b-col',{attrs:{\"md\":\"12\"}},[_c('b-card',{attrs:{\"header\":\"確認購物清單\",\"header-text-variant\":\"dark\",\"header-tag\":\"header\",\"header-bg-variant\":\"muted\"}},[_c('b-table',{ref:\"selectableTable\",attrs:{\"striped\":\"\",\"hover\":\"\",\"stacked\":\"lg\",\"fields\":_vm.fields,\"items\":_vm.items},scopedSlots:_vm._u([{key:\"cell()\",fn:function(data){return [_c('span',{domProps:{\"textContent\":_vm._s(data.value)}})]}},{key:\"cell(name)\",fn:function(data){return [_c('router-link',{staticClass:\"text-decoration-none text-primary\",attrs:{\"to\":'/product/' + data.item.isbn}},[_c('span',{domProps:{\"textContent\":_vm._s(data.value)}})])]}},{key:\"cell(salePrice)\",fn:function(data){return [_c('span',{domProps:{\"textContent\":_vm._s(_vm.salePrice(data))}})]}},{key:\"cell(subtotal)\",fn:function(data){return [_c('span',{domProps:{\"textContent\":_vm._s(_vm.calSubTotal(data))}})]}}])}),_c('div',{staticClass:\"d-flex bg-light\"},[_c('div',{staticClass:\"ml-auto\"},[_c('p',{staticClass:\"mt-3 mr-3\"},[_vm._v(\" 共 \"),_c('span',{staticClass:\"text-danger\"},[_vm._v(_vm._s(_vm.items.length))]),_vm._v(\" 項商品，數量 \"),_c('span',{staticClass:\"text-danger\",domProps:{\"textContent\":_vm._s(_vm.totalQuantity())}}),_vm._v(\" 個，總金額 NT$ \"),_c('span',{staticClass:\"text-danger\",domProps:{\"textContent\":_vm._s(_vm.totalAmount())}}),_vm._v(\" 元 \")])])])],1)],1)],1),_c('b-row',{staticClass:\"mt-3\"},[_c('b-col',{attrs:{\"md\":\"12\"}},[_c('b-card',{attrs:{\"header\":\"付款方式及寄送資訊\",\"header-text-variant\":\"dark\",\"header-tag\":\"header\",\"header-bg-variant\":\"muted\"}},[_c('b-row',{},[_c('b-col',{staticClass:\"d-flex align-items-center ml-1\",attrs:{\"md\":\"2\"}},[_c('label',{attrs:{\"for\":\"deliver\"}},[_vm._v(\"配送方式\")])]),_c('b-col',{staticClass:\"ml-1\",attrs:{\"md\":\"9\"}},[_c('span',{attrs:{\"id\":\"deliver\"}},[_vm._v(_vm._s(_vm.getDeliver))])])],1),_c('b-row',{},[_c('b-col',{staticClass:\"d-flex align-items-center ml-1\",attrs:{\"md\":\"2\"}},[_c('label',{attrs:{\"for\":\"payment\"}},[_vm._v(\"付款方式\")])]),_c('b-col',{staticClass:\"ml-1\",attrs:{\"md\":\"9\"}},[_c('span',{attrs:{\"id\":\"payment\"}},[_vm._v(_vm._s(_vm.getPayment))])])],1),_c('b-row',{},[_c('b-col',{staticClass:\"d-flex align-items-center ml-1\",attrs:{\"md\":\"2\"}},[_c('label',{attrs:{\"for\":\"invoiceType\"}},[_vm._v(\"發票資訊\")])]),_c('b-col',{staticClass:\"ml-1\",attrs:{\"md\":\"9\"}},[_c('span',{attrs:{\"id\":\"invoiceType\"}},[_vm._v(_vm._s(_vm.getInvoiceType))])])],1),_c('b-row',{},[_c('b-col',{staticClass:\"d-flex align-items-center ml-1\",attrs:{\"md\":\"2\"}},[_c('label',{attrs:{\"for\":\"buyerName\"}},[_vm._v(\"訂購人\")])]),_c('b-col',{staticClass:\"ml-1\",attrs:{\"md\":\"9\"}},[_c('span',{attrs:{\"id\":\"buyerName\"},domProps:{\"textContent\":_vm._s(_vm.getBuyer.name)}})])],1),_c('b-row',{},[_c('b-col',{staticClass:\"d-flex align-items-center ml-1\",attrs:{\"md\":\"2\"}},[_c('label',{attrs:{\"for\":\"buyerContactNumber\"}},[_vm._v(\"訂購人聯絡電話\")])]),_c('b-col',{staticClass:\"ml-1\",attrs:{\"md\":\"9\"}},[_c('span',{attrs:{\"id\":\"buyerContactNumber\"},domProps:{\"textContent\":_vm._s(_vm.getBuyer.contactNumber)}})])],1),_c('b-row',{},[_c('b-col',{staticClass:\"d-flex align-items-center ml-1\",attrs:{\"md\":\"2\"}},[_c('label',{attrs:{\"for\":\"buyerMobile\"}},[_vm._v(\"訂購人手機號碼\")])]),_c('b-col',{staticClass:\"ml-1\",attrs:{\"md\":\"9\"}},[_c('span',{attrs:{\"id\":\"buyerMobile\"},domProps:{\"textContent\":_vm._s(_vm.getBuyer.mobile)}})])],1),_c('b-row',{},[_c('b-col',{staticClass:\"d-flex align-items-center ml-1\",attrs:{\"md\":\"2\"}},[_c('label',{attrs:{\"for\":\"buyerAddress\"}},[_vm._v(\"訂購人地址\")])]),_c('b-col',{staticClass:\"ml-1\",attrs:{\"md\":\"9\"}},[_c('span',{attrs:{\"id\":\"buyerAddress\"},domProps:{\"textContent\":_vm._s(_vm.getBuyer.address)}})])],1),_c('b-row',{},[_c('b-col',{staticClass:\"d-flex align-items-center ml-1\",attrs:{\"md\":\"2\"}},[_c('label',{attrs:{\"for\":\"receiverName\"}},[_vm._v(\"收件人\")])]),_c('b-col',{staticClass:\"ml-1\",attrs:{\"md\":\"9\"}},[_c('span',{attrs:{\"id\":\"receiverName\"},domProps:{\"textContent\":_vm._s(_vm.getReceiverName)}})])],1),_c('b-row',{},[_c('b-col',{staticClass:\"d-flex align-items-center ml-1\",attrs:{\"md\":\"2\"}},[_c('label',{attrs:{\"for\":\"receiverContactNumber\"}},[_vm._v(\"收件人聯絡電話\")])]),_c('b-col',{staticClass:\"ml-1\",attrs:{\"md\":\"9\"}},[_c('span',{attrs:{\"id\":\"receiverContactNumber\"}},[_vm._v(_vm._s(_vm.getContactNumber))])])],1),_c('b-row',{},[_c('b-col',{staticClass:\"d-flex align-items-center ml-1\",attrs:{\"md\":\"2\"}},[_c('label',{attrs:{\"for\":\"receiverMobile\"}},[_vm._v(\"收件人手機號碼\")])]),_c('b-col',{staticClass:\"ml-1\",attrs:{\"md\":\"9\"}},[_c('span',{attrs:{\"id\":\"receiverMobile\"}},[_vm._v(_vm._s(_vm.getMobile))])])],1),_c('b-row',{},[_c('b-col',{staticClass:\"d-flex align-items-center ml-1\",attrs:{\"md\":\"2\"}},[_c('label',{attrs:{\"for\":\"receiverAddress\"}},[_vm._v(\"收件人地址\")])]),_c('b-col',{staticClass:\"ml-1\",attrs:{\"md\":\"9\"}},[_c('span',{attrs:{\"id\":\"receiverAddress\"}},[_vm._v(_vm._s(_vm.getAddress))])])],1)],1),_c('div',{staticClass:\"d-flex justify-content-end mt-3\"},[_c('b-button',{staticClass:\"mr-3\",attrs:{\"variant\":\"outline-primary\"},on:{\"click\":function($event){return _vm.goDeliver()}}},[_c('font-awesome-icon',{attrs:{\"icon\":['fas', 'angle-double-left']}}),_vm._v(\" 上一步 \")],1),_c('b-button',{staticClass:\"mr-3\",attrs:{\"variant\":\"outline-primary\"},on:{\"click\":_vm.checkout}},[_vm._v(\" 確認送出 \"),_c('font-awesome-icon',{attrs:{\"icon\":['fas', 'angle-double-right']}})],1)],1)],1)],1),_c('b-modal',{ref:\"order-modal\",attrs:{\"hide-footer\":\"\",\"title\":\"Demo Site\"},on:{\"hide\":_vm.backToHome}},[_c('div',{staticClass:\"d-block text-center\"},[_c('p',[_vm._v(\" 感謝您的訂購，您已經完成本筆交易的訂購程序，我們將會盡快為您處理訂單並安排出貨。 \")]),_c('b-table',{attrs:{\"stacked\":\"\",\"items\":_vm.orderItems}}),_c('p',[_c('a',{staticClass:\"text-decoration-none\",attrs:{\"href\":\"javascript:void(0)\"},on:{\"click\":_vm.orderDetail}},[_vm._v(\"查看訂單詳情\")])]),_c('img',{attrs:{\"src\":_vm.getQRCode,\"alt\":\"QRCode\"}})],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <b-row>\r\n      <!-- progressbar -->\r\n      <div class=\"col-md-12\">\r\n        <div class=\"progressbar-container text-center\">\r\n          <ul class=\"progressbar\">\r\n            <li class=\"progressbar-done\">檢視購物車</li>\r\n            <li class=\"progressbar-done\">付款方式及寄送資訊</li>\r\n            <li class=\"progressbar-active\">確認訂單資料</li>\r\n            <li>訂單成立</li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n      <!-- progressbar -->\r\n    </b-row>\r\n\r\n    <b-row class=\"mt-3\">\r\n      <b-col md=\"12\">\r\n        <b-card\r\n          header=\"確認購物清單\"\r\n          header-text-variant=\"dark\"\r\n          header-tag=\"header\"\r\n          header-bg-variant=\"muted\"\r\n        >\r\n          <b-table\r\n            striped\r\n            hover\r\n            stacked=\"lg\"\r\n            ref=\"selectableTable\"\r\n            :fields=\"fields\"\r\n            :items=\"items\"\r\n          >\r\n            <!-- Optional default data cell scoped slot -->\r\n            <template v-slot:cell()=\"data\">\r\n              <span v-text=\"data.value\"></span>\r\n            </template>\r\n            <!-- A custom formatted column -->\r\n            <template v-slot:cell(name)=\"data\">\r\n              <router-link\r\n                class=\"text-decoration-none text-primary\"\r\n                :to=\"'/product/' + data.item.isbn\"\r\n              >\r\n                <span v-text=\"data.value\"></span>\r\n              </router-link>\r\n            </template>\r\n            <!-- A custom formatted column -->\r\n            <template v-slot:cell(salePrice)=\"data\">\r\n              <span v-text=\"salePrice(data)\"></span>\r\n            </template>\r\n            <!-- A custom formatted column -->\r\n            <template v-slot:cell(subtotal)=\"data\">\r\n              <span v-text=\"calSubTotal(data)\"></span>\r\n            </template>\r\n          </b-table>\r\n          <div class=\"d-flex bg-light\">\r\n            <div class=\"ml-auto\">\r\n              <p class=\"mt-3 mr-3\">\r\n                共\r\n                <span class=\"text-danger\">{{ items.length }}</span> 項商品，數量\r\n                <span class=\"text-danger\" v-text=\"totalQuantity()\"></span>\r\n                個，總金額 NT$\r\n                <span class=\"text-danger\" v-text=\"totalAmount()\"></span> 元\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </b-card>\r\n      </b-col>\r\n    </b-row>\r\n\r\n    <b-row class=\"mt-3\">\r\n      <b-col md=\"12\">\r\n        <b-card\r\n          header=\"付款方式及寄送資訊\"\r\n          header-text-variant=\"dark\"\r\n          header-tag=\"header\"\r\n          header-bg-variant=\"muted\"\r\n        >\r\n          <b-row class>\r\n            <b-col md=\"2\" class=\"d-flex align-items-center ml-1\">\r\n              <label for=\"deliver\">配送方式</label>\r\n            </b-col>\r\n            <b-col md=\"9\" class=\"ml-1\">\r\n              <span id=\"deliver\">{{ getDeliver }}</span>\r\n            </b-col>\r\n          </b-row>\r\n\r\n          <b-row class>\r\n            <b-col md=\"2\" class=\"d-flex align-items-center ml-1\">\r\n              <label for=\"payment\">付款方式</label>\r\n            </b-col>\r\n            <b-col md=\"9\" class=\"ml-1\">\r\n              <span id=\"payment\">{{ getPayment }}</span>\r\n            </b-col>\r\n          </b-row>\r\n\r\n          <b-row class>\r\n            <b-col md=\"2\" class=\"d-flex align-items-center ml-1\">\r\n              <label for=\"invoiceType\">發票資訊</label>\r\n            </b-col>\r\n            <b-col md=\"9\" class=\"ml-1\">\r\n              <span id=\"invoiceType\">{{ getInvoiceType }}</span>\r\n            </b-col>\r\n          </b-row>\r\n\r\n          <b-row class>\r\n            <b-col md=\"2\" class=\"d-flex align-items-center ml-1\">\r\n              <label for=\"buyerName\">訂購人</label>\r\n            </b-col>\r\n            <b-col md=\"9\" class=\"ml-1\">\r\n              <span id=\"buyerName\" v-text=\"getBuyer.name\"></span>\r\n            </b-col>\r\n          </b-row>\r\n\r\n          <b-row class>\r\n            <b-col md=\"2\" class=\"d-flex align-items-center ml-1\">\r\n              <label for=\"buyerContactNumber\">訂購人聯絡電話</label>\r\n            </b-col>\r\n            <b-col md=\"9\" class=\"ml-1\">\r\n              <span\r\n                id=\"buyerContactNumber\"\r\n                v-text=\"getBuyer.contactNumber\"\r\n              ></span>\r\n            </b-col>\r\n          </b-row>\r\n\r\n          <b-row class>\r\n            <b-col md=\"2\" class=\"d-flex align-items-center ml-1\">\r\n              <label for=\"buyerMobile\">訂購人手機號碼</label>\r\n            </b-col>\r\n            <b-col md=\"9\" class=\"ml-1\">\r\n              <span id=\"buyerMobile\" v-text=\"getBuyer.mobile\"></span>\r\n            </b-col>\r\n          </b-row>\r\n\r\n          <b-row class>\r\n            <b-col md=\"2\" class=\"d-flex align-items-center ml-1\">\r\n              <label for=\"buyerAddress\">訂購人地址</label>\r\n            </b-col>\r\n            <b-col md=\"9\" class=\"ml-1\">\r\n              <span id=\"buyerAddress\" v-text=\"getBuyer.address\"></span>\r\n            </b-col>\r\n          </b-row>\r\n\r\n          <b-row class>\r\n            <b-col md=\"2\" class=\"d-flex align-items-center ml-1\">\r\n              <label for=\"receiverName\">收件人</label>\r\n            </b-col>\r\n            <b-col md=\"9\" class=\"ml-1\">\r\n              <span id=\"receiverName\" v-text=\"getReceiverName\"></span>\r\n            </b-col>\r\n          </b-row>\r\n\r\n          <b-row class>\r\n            <b-col md=\"2\" class=\"d-flex align-items-center ml-1\">\r\n              <label for=\"receiverContactNumber\">收件人聯絡電話</label>\r\n            </b-col>\r\n            <b-col md=\"9\" class=\"ml-1\">\r\n              <span id=\"receiverContactNumber\">{{ getContactNumber }}</span>\r\n            </b-col>\r\n          </b-row>\r\n\r\n          <b-row class>\r\n            <b-col md=\"2\" class=\"d-flex align-items-center ml-1\">\r\n              <label for=\"receiverMobile\">收件人手機號碼</label>\r\n            </b-col>\r\n            <b-col md=\"9\" class=\"ml-1\">\r\n              <span id=\"receiverMobile\">{{ getMobile }}</span>\r\n            </b-col>\r\n          </b-row>\r\n\r\n          <b-row class>\r\n            <b-col md=\"2\" class=\"d-flex align-items-center ml-1\">\r\n              <label for=\"receiverAddress\">收件人地址</label>\r\n            </b-col>\r\n            <b-col md=\"9\" class=\"ml-1\">\r\n              <span id=\"receiverAddress\">{{ getAddress }}</span>\r\n            </b-col>\r\n          </b-row>\r\n        </b-card>\r\n\r\n        <div class=\"d-flex justify-content-end mt-3\">\r\n          <!-- <b-button class=\"mr-3\" variant=\"outline-primary\" @click=\"showModal\">\r\n            modal\r\n          </b-button> -->\r\n          <b-button class=\"mr-3\" variant=\"outline-primary\" @click=\"goDeliver()\">\r\n            <font-awesome-icon\r\n              :icon=\"['fas', 'angle-double-left']\"\r\n            />&nbsp;上一步\r\n          </b-button>\r\n          <b-button class=\"mr-3\" variant=\"outline-primary\" @click=\"checkout\">\r\n            確認送出&nbsp;\r\n            <font-awesome-icon :icon=\"['fas', 'angle-double-right']\" />\r\n          </b-button>\r\n        </div>\r\n      </b-col>\r\n    </b-row>\r\n\r\n    <b-modal ref=\"order-modal\" hide-footer title=\"Demo Site\" @hide=\"backToHome\">\r\n      <div class=\"d-block text-center\">\r\n        <!-- <p>訂單編號 {{ orderNo }}</p>\r\n        <p>訂單日期 {{ orderDate }}</p>\r\n        <p>訂單金額 NT$ {{ orderAmount }}</p> -->\r\n        <p>\r\n          感謝您的訂購，您已經完成本筆交易的訂購程序，我們將會盡快為您處理訂單並安排出貨。\r\n        </p>\r\n        <b-table stacked :items=\"orderItems\"></b-table>\r\n        <p>\r\n          <a\r\n            href=\"javascript:void(0)\"\r\n            class=\"text-decoration-none\"\r\n            @click=\"orderDetail\"\r\n            >查看訂單詳情</a\r\n          >\r\n        </p>\r\n        <!-- <img src=\"./../assets/img/QRCode.png\" alt=\"QRCode\" /> -->\r\n        <img :src=\"getQRCode\" alt=\"QRCode\" />\r\n      </div>\r\n    </b-modal>\r\n  </div>\r\n</template>\r\n \r\n<script>\r\nimport { mapGetters } from \"vuex\";\r\n// import buyer from \"@/api/buyer.js\";\r\nimport config from \"@/common/config\";\r\nimport styles from \"@/assets/css/progress-bar.css\";\r\nimport { library } from \"@fortawesome/fontawesome-svg-core\";\r\nimport {\r\n  faAngleDoubleRight,\r\n  faAngleDoubleLeft,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport ApiService from \"@/common/api.service\";\r\nimport util from \"@/common/util\";\r\nimport { JWT_EXPIRED_MSG } from \"@/common/constant\";\r\n\r\nlibrary.add(faAngleDoubleRight, faAngleDoubleLeft);\r\n\r\nexport default {\r\n  name: \"Confirm\",\r\n  data() {\r\n    return {\r\n      // https://bootstrap-vue.org/docs/components/table#row-select-support\r\n      // selectMode: \"multi\",\r\n      // onRowSelected(items) {\r\n      //   this.selected = items\r\n      // },\r\n      fields: config.confirmFields,\r\n      // buyer: null,\r\n      orderNo: \"20201130092604879QTP\",\r\n      orderDate: \"2020-11-30 09:26:05\",\r\n      orderAmount: 2127,\r\n      orderItems: [],\r\n      QRCode: \"\",\r\n    };\r\n  },\r\n  components: {},\r\n  computed: {\r\n    items() {\r\n      return this.$store.getters[\"cart/cartProducts\"];\r\n    },\r\n    getDeliver() {\r\n      // return this.$store.getters[\"deliver/getState\"].deliver;\r\n      return this.getState().deliver === \"homeDelivery\" ? \"宅配\" : \"郵寄\";\r\n    },\r\n    getPayment() {\r\n      // return this.$store.getters[\"deliver/getState\"].payment === \"COD\";\r\n      return this.getState().payment === \"COD\" ? \"貨到付款\" : \"\";\r\n    },\r\n    getInvoiceType() {\r\n      // return this.$store.getters[\"deliver/getState\"].invoiceType === \"paper\";\r\n      return this.getState().invoiceType === \"paper\" ? \"紙本發票\" : \"\";\r\n    },\r\n    getReceiverName() {\r\n      if (this.isReceiverInfoNew()) {\r\n        return this.getState().receiverName;\r\n      } else {\r\n        return this.getBuyer.name;\r\n      }\r\n    },\r\n    getContactNumber() {\r\n      if (this.isReceiverInfoNew()) {\r\n        let ext =\r\n          this.getState().receiverExt.length == 0\r\n            ? \"\"\r\n            : \" 分機 \" + this.getState().receiverExt;\r\n        return (\r\n          this.getState().receiverArea +\r\n          \"-\" +\r\n          this.getState().receiverPhone +\r\n          ext\r\n        );\r\n      } else {\r\n        return this.getBuyer.contactNumber;\r\n      }\r\n    },\r\n    getMobile() {\r\n      if (this.isReceiverInfoNew()) {\r\n        return this.getState().receiverMobile;\r\n      } else {\r\n        return this.getBuyer.mobile;\r\n      }\r\n    },\r\n    getAddress() {\r\n      if (this.isReceiverInfoNew()) {\r\n        return (\r\n          this.getState().zipcode +\r\n          this.getState().county +\r\n          this.getState().district +\r\n          this.getState().receiverAddress\r\n        );\r\n      } else {\r\n        return this.getBuyer.address;\r\n      }\r\n    },\r\n    ...mapGetters(\"auth\", [\"getBuyer\"]),\r\n    getQRCode() {\r\n      return this.QRCode;\r\n    },\r\n  },\r\n  methods: {\r\n    ...mapGetters(\"deliver\", [\"getState\"]),\r\n    isReceiverInfoNew() {\r\n      return this.getState().receiverInfo === \"new\";\r\n    },\r\n    // fetchData() {\r\n    //   this.buyer = buyer;\r\n    // },\r\n    goDeliver() {\r\n      this.$router.push({ name: \"deliver\" });\r\n    },\r\n    salePrice(data) {\r\n      // return Math.round(data.item.listPrice * data.item.discount / 100);\r\n      data.item.salePrice = this.calSalePrice(\r\n        data.item.listPrice,\r\n        data.item.discount\r\n      );\r\n      return data.item.salePrice;\r\n    },\r\n    calSalePrice(price, discount) {\r\n      return Math.round((price * discount) / 100);\r\n    },\r\n    calSubTotal(data) {\r\n      // return this.salePrice(data) * data.item.quantity;\r\n      return data.item.salePrice * data.item.quantity;\r\n    },\r\n    totalQuantity() {\r\n      //https://fred-zone.blogspot.com/2017/01/javascript-mapreduce.html\r\n      //https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Array/map\r\n      //https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce\r\n      return this.items\r\n        .map((item) => {\r\n          if (isNaN(item.quantity) || item.quantity.length == 0) {\r\n            return 0;\r\n          } else {\r\n            return parseInt(item.quantity, 10);\r\n          }\r\n        })\r\n        .reduce((acc, cur) => acc + cur, 0);\r\n    },\r\n    totalAmount() {\r\n      // return this.items.map(item => Math.round(item.listPrice * item.discount / 100) * parseInt(item.quantity, 10)).reduce((acc, cur) => acc + cur, 0);\r\n      return this.items\r\n        .map((item) => {\r\n          let quantity;\r\n          if (isNaN(item.quantity) || item.quantity.length == 0) {\r\n            quantity = 0;\r\n          } else {\r\n            quantity = parseInt(item.quantity, 10);\r\n          }\r\n          return this.calSalePrice(item.listPrice, item.discount) * quantity;\r\n        })\r\n        .reduce((acc, cur) => acc + cur, 0);\r\n    },\r\n    createReqObj() {\r\n      let bookArray = this.items.map(function (item) {\r\n        let obj = {};\r\n        obj[\"isbn\"] = item.isbn;\r\n        obj[\"quantity\"] = item.quantity;\r\n        return obj;\r\n      });\r\n      let deliver = JSON.parse(JSON.stringify(this.getState()));\r\n      let keyArray = [\r\n        \"receiverNameState\",\r\n        \"receiverAreaState\",\r\n        \"receiverPhoneState\",\r\n        \"receiverExtState\",\r\n        \"receiverMobileState\",\r\n        \"receiverAddressState\",\r\n      ];\r\n      for (let value of keyArray) {\r\n        // console.log(value);\r\n        delete deliver[value];\r\n      }\r\n      console.log(JSON.stringify(bookArray), JSON.stringify(deliver));\r\n      let reqObj = {};\r\n      reqObj[\"bookList\"] = bookArray;\r\n      reqObj[\"deliver\"] = deliver;\r\n      return reqObj;\r\n    },\r\n    checkout() {\r\n      let emptyQuantityArray = this.items.filter(\r\n        (item) => item.quantity.length == 0\r\n      );\r\n      console.log(JSON.stringify(emptyQuantityArray));\r\n      if (emptyQuantityArray.length) {\r\n        for (let item of emptyQuantityArray) {\r\n          this.$toastr.e(\"請修改為正確的數量\");\r\n        }\r\n        return;\r\n      }\r\n\r\n      let reqObj = this.createReqObj();\r\n      console.log(JSON.stringify(reqObj));\r\n      ApiService.setHeader();\r\n      ApiService.post(\"order/create\", reqObj)\r\n        .then((response) => {\r\n          console.log(\r\n            \"Confirm.vue checkout response : \" + JSON.stringify(response)\r\n          );\r\n          ApiService.deleteHeader();\r\n          this.$store.dispatch(\"cart/clearState\");\r\n          this.$store.dispatch(\"deliver/clearState\");\r\n\r\n          this.completeOrder(response.data);\r\n          this.$router.push({ name: \"complete\" });\r\n\r\n          // this.$store.dispatch(\"deliver/refresh\");\r\n          // this.showOrder(response.data);\r\n          // this.$bvModal\r\n          //   .msgBoxOk(\"訂單成立\", {\r\n          //     title: \"Demo Site\",\r\n          //     size: \"sm\",\r\n          //     buttonSize: \"sm\",\r\n          //     okVariant: \"success\",\r\n          //     headerClass: \"p-2 border-bottom-0\",\r\n          //     footerClass: \"p-2 border-top-0\",\r\n          //     centered: true,\r\n          //   })\r\n          //   .then((value) => {\r\n          //     console.log(\"msgBoxOk\", value);\r\n          //   })\r\n          //   .catch((err) => {\r\n          //     console.log(\"msgBoxErr\", err);\r\n          //   });\r\n        })\r\n        .catch((err) => {\r\n          console.log(\"err : \" + err);\r\n          console.log(\"err JSON.stringify : \" + JSON.stringify(err));\r\n          console.log(\"err.response : \" + JSON.stringify(err.response));\r\n          ApiService.deleteHeader();\r\n          let msg = \"\";\r\n          if (err.response.data.errors) {\r\n            msg = \"數量不可為 0 , 請修改訂單\";\r\n            console.log(\"err.response.data.errors\", err.response.data.errors);\r\n          } else {\r\n            console.log(\"err.response.data.message\", err.response.data.message);\r\n            msg = util.checkJWTExpired(err, this);\r\n            // if (util.testJWTExpiredMsg(err.response.data.message)) {\r\n            //   msg = JWT_EXPIRED_MSG;\r\n            //   this.$store.dispatch(\"auth/purgeAuth\");\r\n            //   console.log(\"this.$route.path\", this.$route.path);\r\n            //   // https://router.vuejs.org/zh/guide/essentials/navigation.html\r\n            //   this.$router.push({\r\n            //     path: \"login\",\r\n            //     query: { redirect: this.$route.path },\r\n            //   });\r\n            // } else {\r\n            //   msg = err.response.data.message;\r\n            // }\r\n          }\r\n          this.$store.dispatch(\"modal/setModalMsg\", msg);\r\n          this.$store.dispatch(\"modal/setModalShow\", true);\r\n        });\r\n    },\r\n    completeOrder(order) {\r\n      let obj = {\r\n        訂單編號: order.orderNo,\r\n        訂單日期: order.orderDate,\r\n        訂單金額: order.orderAmount,\r\n      };\r\n      let itemArray = [obj];\r\n      this.$store.dispatch(\"complete/setOrderItems\", itemArray);\r\n      this.$store.dispatch(\"complete/setQRCode\", order.qrcode);\r\n      this.$store.dispatch(\"complete/setOrderNo\", order.orderNo);\r\n    },\r\n    showOrder(order) {\r\n      this.orderNo = order.orderNo;\r\n      let obj = {\r\n        訂單編號: order.orderNo,\r\n        訂單日期: order.orderDate,\r\n        訂單金額: order.orderAmount,\r\n      };\r\n      this.QRCode = order.qrcode;\r\n      let itemArray = [obj];\r\n      this.orderItems = JSON.parse(JSON.stringify(itemArray));\r\n      this.$refs[\"order-modal\"].show();\r\n    },\r\n    showModal() {\r\n      let obj = {\r\n        訂單編號: this.orderNo,\r\n        訂單日期: this.orderDate,\r\n        訂單金額: this.orderAmount,\r\n      };\r\n      let itemArray = [obj];\r\n      this.orderItems = JSON.parse(JSON.stringify(itemArray));\r\n      this.$refs[\"order-modal\"].show();\r\n    },\r\n    orderDetail() {\r\n      this.$router\r\n        .push({ path: `/order/${this.orderNo}` })\r\n        .catch((err) => console.log(err));\r\n    },\r\n    backToHome() {\r\n      this.$router.push({ name: \"index\" });\r\n    },\r\n  },\r\n  mounted() {},\r\n  created() {\r\n    // this.fetchData();\r\n  },\r\n};\r\n</script>\r\n<style>\r\n.bg-LightSteelBlue {\r\n  background-color: LightSteelBlue !important;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Confirm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Confirm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Confirm.vue?vue&type=template&id=3aa5d2de&\"\nimport script from \"./Confirm.vue?vue&type=script&lang=js&\"\nexport * from \"./Confirm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Confirm.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}