(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b93c5"],{"31a2":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("MyTemplate",{scopedSlots:t._u([{key:"myContent",fn:function(){return[n("b-row",[n("div",{staticClass:"col-md-12"},[n("div",{staticClass:"progressbar-container text-center"},[n("ul",{staticClass:"progressbar"},[n("li",{staticClass:"progressbar-active"},[t._v("檢視購物車")]),n("li",[t._v("付款方式及寄送資訊")]),n("li",[t._v("確認訂單資料")]),n("li",[t._v("訂單成立")])])])])]),n("b-row",{staticClass:"mt-3"},[n("b-col",{attrs:{lg:"12",md:"12"}},[n("b-tabs",[n("b-tab",{attrs:{title:"購物明細"}},[n("b-form",[n("b-table",{ref:"selectableTable",attrs:{striped:"",hover:"",stacked:"lg",fields:t.fields,items:t.items,"head-variant":t.headVariant},scopedSlots:t._u([{key:"head(checkbox)",fn:function(){return[n("input",{directives:[{name:"model",rawName:"v-model",value:t.allSelected,expression:"allSelected"}],staticClass:"checkAll",attrs:{type:"checkbox",id:"checkAll",name:"checkAll"},domProps:{checked:Array.isArray(t.allSelected)?t._i(t.allSelected,null)>-1:t.allSelected},on:{change:[function(e){var n=t.allSelected,a=e.target,i=!!a.checked;if(Array.isArray(n)){var c=null,l=t._i(n,c);a.checked?l<0&&(t.allSelected=n.concat([c])):l>-1&&(t.allSelected=n.slice(0,l).concat(n.slice(l+1)))}else t.allSelected=i},function(e){return t.toggleAll(t.allSelected)}]}})]},proxy:!0},{key:"cell()",fn:function(e){return[n("span",{domProps:{textContent:t._s(e.value)}})]}},{key:"cell(checkbox)",fn:function(e){return[n("input",{directives:[{name:"model",rawName:"v-model",value:e.item.checked,expression:"data.item.checked"}],attrs:{type:"checkbox",id:"checkbox"+e.index,name:"checkbox"+e.index},domProps:{checked:Array.isArray(e.item.checked)?t._i(e.item.checked,null)>-1:e.item.checked},on:{change:function(n){var a=e.item.checked,i=n.target,c=!!i.checked;if(Array.isArray(a)){var l=null,s=t._i(a,l);i.checked?s<0&&t.$set(e.item,"checked",a.concat([l])):s>-1&&t.$set(e.item,"checked",a.slice(0,s).concat(a.slice(s+1)))}else t.$set(e.item,"checked",c)}}})]}},{key:"cell(pic)",fn:function(t){return[n("a",{attrs:{href:"#"}},[n("img",{staticStyle:{display:"block",margin:"0 auto",height:"100px"},attrs:{src:t.item.src,alt:""}})])]}},{key:"cell(name)",fn:function(e){return[n("a",{staticClass:"text-decoration-none text-primary",attrs:{href:"#"}},[n("span",{domProps:{textContent:t._s(e.value)}})])]}},{key:"cell(salePrice)",fn:function(e){return[n("span",{domProps:{textContent:t._s(t.salePrice(e))}})]}},{key:"cell(quantity)",fn:function(e){return[n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.item["quantity"],expression:"data.item['quantity']",modifiers:{number:!0}}],staticStyle:{width:"50px"},attrs:{type:"number",min:"1",onkeydown:"return false;",oncut:"return false;",onpaste:"return false;"},domProps:{value:e.item["quantity"]},on:{input:[function(n){n.target.composing||t.$set(e.item,"quantity",t._n(n.target.value))},function(n){return t.changeQuantity(e.index)}],blur:function(e){return t.$forceUpdate()}}}),n("vue-numeric-input",{attrs:{align:"center",min:1,max:100,onkeydown:"return false;",oncut:"return false;",onpaste:"return false;"},on:{input:function(n){return t.changeQuantity(e.index)}},model:{value:e.item["quantity"],callback:function(n){t.$set(e.item,"quantity",t._n(n))},expression:"data.item['quantity']"}})]}},{key:"cell(subtotal)",fn:function(e){return[n("span",{domProps:{textContent:t._s(t.calSubTotal(e))}})]}},{key:"cell(changeItem)",fn:function(e){return[n("b-button",{attrs:{variant:"outline-dark"},on:{click:function(n){return t.deleteItem(e.index)}}},[t._v("刪除")])]}}])}),n("div",{staticClass:"d-flex bg-light"},[n("div",{staticClass:"p-3 mr-auto"},[n("b-button",{attrs:{variant:"outline-dark"},on:{click:t.deleteSelected}},[t._v("刪除勾選項目")])],1),n("div",{staticClass:"d-flex align-items-center"},[n("p",{staticClass:"mt-3 mr-3"},[t._v(" 共 "),n("span",{staticClass:"text-danger"},[t._v(t._s(t.items.length))]),t._v(" 項商品，數量 "),n("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.totalQuantity())}}),t._v(" 個，總金額 NT$ "),n("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.totalAmount())}}),t._v(" 元 ")])])]),n("div",{staticClass:"text-right mt-3"},[n("b-button",{staticClass:"mr-3",attrs:{variant:"outline-primary"}},[t._v("繼續購物")]),n("b-button",{staticClass:"mr-3",attrs:{disabled:0==t.items.length||isNaN(t.totalQuantity()),variant:"outline-primary"}},[t._v("結帳")])],1)],1)],1)],1)],1)],1)]},proxy:!0}])})},i=[],c=(n("4160"),n("d81d"),n("13d5"),n("a434"),n("a9e3"),n("8ba4"),n("159b"),n("7689")),l=(n("7947"),n("5247")),s=n.n(l),r={name:"Shoppingcart",data:function(){return{allSelected:!1,headVariant:"dark",fields:[{key:"checkbox",label:""},{key:"pic",label:""},{key:"name",label:"商品名稱"},{key:"listPrice",label:"定價(NT$)"},{key:"salePrice",label:"售價(NT$)"},{key:"quantity",label:"數量"},{key:"subtotal",label:"小計(NT$)"},{key:"changeItem",label:"變更明細"}],items:[{name:"架構模式｜使用 Python",src:n("f2b0"),listPrice:680,discount:79,quantity:1,checked:!1},{name:"架構模式｜使用 Python",src:n("f2b0"),listPrice:680,discount:79,quantity:3,checked:!1},{name:"架構模式｜使用 Python",src:n("f2b0"),listPrice:680,discount:79,quantity:5,checked:!1},{name:"架構模式｜使用 Python",src:n("f2b0"),listPrice:680,discount:79,quantity:7,checked:!1}]}},components:{MyTemplate:c["a"],VueNumericInput:s.a},mounted:function(){},methods:{toggleAll:function(t){this.items.forEach((function(e){e.checked=t}))},salePrice:function(t){return t.item.salePrice=this.calSalePrice(t.item.listPrice,t.item.discount),t.item.salePrice},calSalePrice:function(t,e){return Math.round(t*e/100)},calSubTotal:function(t){return t.item.salePrice*t.item.quantity},changeQuantity:function(t){if(console.log("index: "+t),console.log("quantity: "+this.items[t].quantity),!isNaN(this.items[t].quantity))return Number.isInteger(this.items[t].quantity)&&this.items[t].quantity<1?(alert("數量最小為 1"),void(this.items[t].quantity=1)):void 0;alert("請輸入正確數量")},deleteItem:function(t){console.log("index: "+t),console.log("quantity: "+this.items[t].quantity),this.items.splice(t,1)},deleteSelected:function(){for(var t=this.items.length-1;t>=0;t--)1==this.items[t].checked&&this.items.splice(t,1);this.allSelected=!1},totalQuantity:function(){return this.items.map((function(t){return parseInt(t.quantity,10)})).reduce((function(t,e){return t+e}),0)},totalAmount:function(){var t=this;return this.items.map((function(e){return t.calSalePrice(e.listPrice,e.discount)*parseInt(e.quantity,10)})).reduce((function(t,e){return t+e}),0)}}},o=r,u=n("2877"),d=Object(u["a"])(o,a,i,!1,null,"3a92e147",null);e["default"]=d.exports}}]);
//# sourceMappingURL=chunk-2d0b93c5.5b45d8f8.js.map