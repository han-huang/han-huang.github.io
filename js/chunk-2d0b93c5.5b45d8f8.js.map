{"version":3,"sources":["webpack:///./src/views/MyShoppingcart.vue?9c5c","webpack:///src/views/MyShoppingcart.vue","webpack:///./src/views/MyShoppingcart.vue?56df","webpack:///./src/views/MyShoppingcart.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","scopedSlots","_u","key","fn","staticClass","_v","attrs","ref","fields","items","headVariant","directives","name","rawName","value","expression","domProps","Array","isArray","allSelected","_i","on","$event","$$a","$$el","target","$$c","checked","$$v","$$i","concat","slice","toggleAll","proxy","data","_s","item","index","$set","staticStyle","src","salePrice","modifiers","composing","_n","changeQuantity","$forceUpdate","model","callback","calSubTotal","deleteItem","deleteSelected","length","totalQuantity","totalAmount","isNaN","staticRenderFns","components","MyTemplate","VueNumericInput","mounted","methods","forEach","calSalePrice","Math","round","quantity","console","log","alert","splice","i","component"],"mappings":"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","file":"js/chunk-2d0b93c5.5b45d8f8.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('MyTemplate',{scopedSlots:_vm._u([{key:\"myContent\",fn:function(){return [_c('b-row',[_c('div',{staticClass:\"col-md-12\"},[_c('div',{staticClass:\"progressbar-container text-center\"},[_c('ul',{staticClass:\"progressbar\"},[_c('li',{staticClass:\"progressbar-active\"},[_vm._v(\"檢視購物車\")]),_c('li',[_vm._v(\"付款方式及寄送資訊\")]),_c('li',[_vm._v(\"確認訂單資料\")]),_c('li',[_vm._v(\"訂單成立\")])])])])]),_c('b-row',{staticClass:\"mt-3\"},[_c('b-col',{attrs:{\"lg\":\"12\",\"md\":\"12\"}},[_c('b-tabs',[_c('b-tab',{attrs:{\"title\":\"購物明細\"}},[_c('b-form',[_c('b-table',{ref:\"selectableTable\",attrs:{\"striped\":\"\",\"hover\":\"\",\"stacked\":\"lg\",\"fields\":_vm.fields,\"items\":_vm.items,\"head-variant\":_vm.headVariant},scopedSlots:_vm._u([{key:\"head(checkbox)\",fn:function(){return [_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.allSelected),expression:\"allSelected\"}],staticClass:\"checkAll\",attrs:{\"type\":\"checkbox\",\"id\":\"checkAll\",\"name\":\"checkAll\"},domProps:{\"checked\":Array.isArray(_vm.allSelected)?_vm._i(_vm.allSelected,null)>-1:(_vm.allSelected)},on:{\"change\":[function($event){var $$a=_vm.allSelected,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.allSelected=$$a.concat([$$v]))}else{$$i>-1&&(_vm.allSelected=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.allSelected=$$c}},function($event){return _vm.toggleAll(_vm.allSelected)}]}})]},proxy:true},{key:\"cell()\",fn:function(data){return [_c('span',{domProps:{\"textContent\":_vm._s(data.value)}})]}},{key:\"cell(checkbox)\",fn:function(data){return [_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(data.item.checked),expression:\"data.item.checked\"}],attrs:{\"type\":\"checkbox\",\"id\":'checkbox' + data.index,\"name\":'checkbox' + data.index},domProps:{\"checked\":Array.isArray(data.item.checked)?_vm._i(data.item.checked,null)>-1:(data.item.checked)},on:{\"change\":function($event){var $$a=data.item.checked,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(data.item, \"checked\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(data.item, \"checked\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(data.item, \"checked\", $$c)}}}})]}},{key:\"cell(pic)\",fn:function(data){return [_c('a',{attrs:{\"href\":\"#\"}},[_c('img',{staticStyle:{\"display\":\"block\",\"margin\":\"0 auto\",\"height\":\"100px\"},attrs:{\"src\":data.item.src,\"alt\":\"\"}})])]}},{key:\"cell(name)\",fn:function(data){return [_c('a',{staticClass:\"text-decoration-none text-primary\",attrs:{\"href\":\"#\"}},[_c('span',{domProps:{\"textContent\":_vm._s(data.value)}})])]}},{key:\"cell(salePrice)\",fn:function(data){return [_c('span',{domProps:{\"textContent\":_vm._s(_vm.salePrice(data))}})]}},{key:\"cell(quantity)\",fn:function(data){return [_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(data.item['quantity']),expression:\"data.item['quantity']\",modifiers:{\"number\":true}}],staticStyle:{\"width\":\"50px\"},attrs:{\"type\":\"number\",\"min\":\"1\",\"onkeydown\":\"return false;\",\"oncut\":\"return false;\",\"onpaste\":\"return false;\"},domProps:{\"value\":(data.item['quantity'])},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.$set(data.item, 'quantity', _vm._n($event.target.value))},function($event){return _vm.changeQuantity(data.index)}],\"blur\":function($event){return _vm.$forceUpdate()}}}),_c('vue-numeric-input',{attrs:{\"align\":\"center\",\"min\":1,\"max\":100,\"onkeydown\":\"return false;\",\"oncut\":\"return false;\",\"onpaste\":\"return false;\"},on:{\"input\":function($event){return _vm.changeQuantity(data.index)}},model:{value:(data.item['quantity']),callback:function ($$v) {_vm.$set(data.item, 'quantity', _vm._n($$v))},expression:\"data.item['quantity']\"}})]}},{key:\"cell(subtotal)\",fn:function(data){return [_c('span',{domProps:{\"textContent\":_vm._s(_vm.calSubTotal(data))}})]}},{key:\"cell(changeItem)\",fn:function(data){return [_c('b-button',{attrs:{\"variant\":\"outline-dark\"},on:{\"click\":function($event){return _vm.deleteItem(data.index)}}},[_vm._v(\"刪除\")])]}}])}),_c('div',{staticClass:\"d-flex bg-light\"},[_c('div',{staticClass:\"p-3 mr-auto\"},[_c('b-button',{attrs:{\"variant\":\"outline-dark\"},on:{\"click\":_vm.deleteSelected}},[_vm._v(\"刪除勾選項目\")])],1),_c('div',{staticClass:\"d-flex align-items-center\"},[_c('p',{staticClass:\"mt-3 mr-3\"},[_vm._v(\" 共 \"),_c('span',{staticClass:\"text-danger\"},[_vm._v(_vm._s(_vm.items.length))]),_vm._v(\" 項商品，數量 \"),_c('span',{staticClass:\"text-danger\",domProps:{\"textContent\":_vm._s(_vm.totalQuantity())}}),_vm._v(\" 個，總金額 NT$ \"),_c('span',{staticClass:\"text-danger\",domProps:{\"textContent\":_vm._s(_vm.totalAmount())}}),_vm._v(\" 元 \")])])]),_c('div',{staticClass:\"text-right mt-3\"},[_c('b-button',{staticClass:\"mr-3\",attrs:{\"variant\":\"outline-primary\"}},[_vm._v(\"繼續購物\")]),_c('b-button',{staticClass:\"mr-3\",attrs:{\"disabled\":_vm.items.length == 0 || isNaN(_vm.totalQuantity()),\"variant\":\"outline-primary\"}},[_vm._v(\"結帳\")])],1)],1)],1)],1)],1)],1)]},proxy:true}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <MyTemplate>\r\n    <template v-slot:myContent>\r\n      <b-row>\r\n        <!-- progressbar -->\r\n        <div class=\"col-md-12\">\r\n          <div class=\"progressbar-container text-center\">\r\n            <ul class=\"progressbar\">\r\n              <li class=\"progressbar-active\">檢視購物車</li>\r\n              <li>付款方式及寄送資訊</li>\r\n              <li>確認訂單資料</li>\r\n              <li>訂單成立</li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n        <!-- progressbar -->\r\n      </b-row>\r\n\r\n      <b-row class=\"mt-3\">\r\n        <b-col lg=\"12\" md=\"12\" class>\r\n          <b-tabs>\r\n            <b-tab title=\"購物明細\">\r\n              <b-form>\r\n                <!-- https://bootstrap-vue.org/docs/components/table -->\r\n                <!-- <b-table hover stacked=\"md\" selectable :select-mode=\"selectMode\" @row-selected=\"onRowSelected\" ref=\"selectableTable\" :fields=\"fields\" :items=\"items\"> -->\r\n                <b-table\r\n                  striped\r\n                  hover\r\n                  stacked=\"lg\"\r\n                  ref=\"selectableTable\"\r\n                  :fields=\"fields\"\r\n                  :items=\"items\"\r\n                  :head-variant=\"headVariant\"\r\n                >\r\n                  <!-- head scoped slot -->\r\n                  <template v-slot:head(checkbox)>\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      v-model=\"allSelected\"\r\n                      @change=\"toggleAll(allSelected)\"\r\n                      class=\"checkAll\"\r\n                      id=\"checkAll\"\r\n                      name=\"checkAll\"\r\n                    />\r\n                  </template>\r\n                  <!-- Optional default data cell scoped slot -->\r\n                  <template v-slot:cell()=\"data\">\r\n                    <span v-text=\"data.value\"></span>\r\n                  </template>\r\n                  <!-- A custom formatted column -->\r\n                  <template v-slot:cell(checkbox)=\"data\">\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      v-model=\"data.item.checked\"\r\n                      :id=\"'checkbox' + data.index\"\r\n                      :name=\"'checkbox' + data.index\"\r\n                    />\r\n                  </template>\r\n                  <template v-slot:cell(pic)=\"data\">\r\n                    <a href=\"#\">\r\n                      <img\r\n                        :src=\"data.item.src\"\r\n                        alt\r\n                        class\r\n                        style=\"display: block; margin: 0 auto; height: 100px\"\r\n                      />\r\n                    </a>\r\n                  </template>\r\n                  <!-- A custom formatted column -->\r\n                  <template v-slot:cell(name)=\"data\">\r\n                    <a class=\"text-decoration-none text-primary\" href=\"#\">\r\n                      <span v-text=\"data.value\"></span>\r\n                    </a>\r\n                  </template>\r\n                  <!-- A custom formatted column -->\r\n                  <template v-slot:cell(salePrice)=\"data\">\r\n                    <span v-text=\"salePrice(data)\"></span>\r\n                  </template>\r\n                  <!-- A custom formatted column -->\r\n                  <template v-slot:cell(quantity)=\"data\">\r\n                    <input\r\n                      type=\"number\"\r\n                      min=\"1\"\r\n                      v-model.number=\"data.item['quantity']\"\r\n                      @input=\"changeQuantity(data.index)\"\r\n                      style=\"width: 50px\"\r\n                      onkeydown=\"return false;\"\r\n                      oncut=\"return false;\"\r\n                      onpaste=\"return false;\"\r\n                    />\r\n                    <vue-numeric-input\r\n                      align=\"center\"\r\n                      v-model.number=\"data.item['quantity']\"\r\n                      @input=\"changeQuantity(data.index)\"\r\n                      :min=\"1\"\r\n                      :max=\"100\"\r\n                      onkeydown=\"return false;\"\r\n                      oncut=\"return false;\"\r\n                      onpaste=\"return false;\"\r\n                    ></vue-numeric-input>\r\n                  </template>\r\n                  <!-- A custom formatted column -->\r\n                  <template v-slot:cell(subtotal)=\"data\">\r\n                    <span v-text=\"calSubTotal(data)\"></span>\r\n                  </template>\r\n                  <template v-slot:cell(changeItem)=\"data\">\r\n                    <b-button\r\n                      variant=\"outline-dark\"\r\n                      @click=\"deleteItem(data.index)\"\r\n                      >刪除</b-button\r\n                    >\r\n                  </template>\r\n                </b-table>\r\n                <div class=\"d-flex bg-light\">\r\n                  <div class=\"p-3 mr-auto\">\r\n                    <b-button variant=\"outline-dark\" @click=\"deleteSelected\"\r\n                      >刪除勾選項目</b-button\r\n                    >\r\n                  </div>\r\n                  <div class=\"d-flex align-items-center\">\r\n                    <p class=\"mt-3 mr-3\">\r\n                      共\r\n                      <span class=\"text-danger\">{{ items.length }}</span>\r\n                      項商品，數量\r\n                      <span class=\"text-danger\" v-text=\"totalQuantity()\"></span>\r\n                      個，總金額 NT$\r\n                      <span class=\"text-danger\" v-text=\"totalAmount()\"></span>\r\n                      元\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n                <div class=\"text-right mt-3\">\r\n                  <b-button class=\"mr-3\" variant=\"outline-primary\"\r\n                    >繼續購物</b-button\r\n                  >\r\n                  <b-button\r\n                    class=\"mr-3\"\r\n                    :disabled=\"items.length == 0 || isNaN(totalQuantity())\"\r\n                    variant=\"outline-primary\"\r\n                    >結帳</b-button\r\n                  >\r\n                </div>\r\n              </b-form>\r\n            </b-tab>\r\n          </b-tabs>\r\n        </b-col>\r\n      </b-row>\r\n    </template>\r\n  </MyTemplate>\r\n</template>\r\n \r\n<script>\r\nimport MyTemplate from \"@/components/MyTemplate.vue\";\r\nimport styles from \"@/assets/css/progress-bar.css\";\r\nimport VueNumericInput from \"vue-numeric-input\";\r\n\r\nexport default {\r\n  name: \"Shoppingcart\",\r\n  data() {\r\n    return {\r\n      // https://bootstrap-vue.org/docs/components/table#row-select-support\r\n      // selectMode: \"multi\",\r\n      // onRowSelected(items) {\r\n      //   this.selected = items\r\n      // },\r\n      allSelected: false,\r\n      headVariant: \"dark\", // Use 'light' or 'dark' to make table header appear light or dark gray, respectively\r\n      fields: [\r\n        // A virtual column that doesn't exist in items\r\n        //'index',\r\n        // A column that needs custom formatting\r\n        { key: \"checkbox\", label: \"\" },\r\n        { key: \"pic\", label: \"\" },\r\n        { key: \"name\", label: \"商品名稱\" },\r\n        { key: \"listPrice\", label: \"定價(NT$)\" },\r\n        { key: \"salePrice\", label: \"售價(NT$)\" },\r\n        { key: \"quantity\", label: \"數量\" },\r\n        { key: \"subtotal\", label: \"小計(NT$)\" },\r\n        { key: \"changeItem\", label: \"變更明細\" },\r\n      ],\r\n      items: [\r\n        {\r\n          name: \"架構模式｜使用 Python\",\r\n          src: require(\"@/assets/img/9789865025960.jpg\"),\r\n          listPrice: 680,\r\n          discount: 79,\r\n          quantity: 1,\r\n          checked: false,\r\n        },\r\n        {\r\n          name: \"架構模式｜使用 Python\",\r\n          src: require(\"@/assets/img/9789865025960.jpg\"),\r\n          listPrice: 680,\r\n          discount: 79,\r\n          quantity: 3,\r\n          checked: false,\r\n        },\r\n        {\r\n          name: \"架構模式｜使用 Python\",\r\n          src: require(\"@/assets/img/9789865025960.jpg\"),\r\n          listPrice: 680,\r\n          discount: 79,\r\n          quantity: 5,\r\n          checked: false,\r\n        },\r\n        {\r\n          name: \"架構模式｜使用 Python\",\r\n          src: require(\"@/assets/img/9789865025960.jpg\"),\r\n          listPrice: 680,\r\n          discount: 79,\r\n          quantity: 7,\r\n          checked: false,\r\n        },\r\n      ],\r\n    };\r\n  },\r\n  components: {\r\n    MyTemplate,\r\n    VueNumericInput,\r\n  },\r\n  mounted() {},\r\n  methods: {\r\n    toggleAll(checked) {\r\n      //this.selected = checked ? this.flavours.slice() : []\r\n      //console.log(checked);\r\n      this.items.forEach(function (item) {\r\n        item.checked = checked;\r\n        //console.log(\"checked: \" + checked);\r\n      });\r\n      // this.$refs.selectableTable.refresh();\r\n    },\r\n    salePrice(data) {\r\n      // return Math.round(data.item.listPrice * data.item.discount / 100);\r\n      data.item.salePrice = this.calSalePrice(\r\n        data.item.listPrice,\r\n        data.item.discount\r\n      );\r\n      return data.item.salePrice;\r\n    },\r\n    calSalePrice(price, discount) {\r\n      return Math.round((price * discount) / 100);\r\n    },\r\n    calSubTotal(data) {\r\n      // return this.salePrice(data) * data.item.quantity;\r\n      return data.item.salePrice * data.item.quantity;\r\n    },\r\n    changeQuantity(index) {\r\n      console.log(\"index: \" + index);\r\n      console.log(\"quantity: \" + this.items[index].quantity);\r\n      if (isNaN(this.items[index].quantity)) {\r\n        //this.items[index].quantity = 1;\r\n        alert(\"請輸入正確數量\");\r\n        //this.$refs.selectableTable.refresh();\r\n        return;\r\n      }\r\n      if (\r\n        Number.isInteger(this.items[index].quantity) &&\r\n        this.items[index].quantity < 1\r\n      ) {\r\n        alert(\"數量最小為 1\");\r\n        this.items[index].quantity = 1;\r\n        return;\r\n      }\r\n    },\r\n    deleteItem(index) {\r\n      console.log(\"index: \" + index);\r\n      console.log(\"quantity: \" + this.items[index].quantity);\r\n      this.items.splice(index, 1);\r\n    },\r\n    deleteSelected() {\r\n      // let removeIndexes = [];\r\n      // for (let i = 0; i < this.items.length; i++) {\r\n      //   if (this.items[i].checked == true) {\r\n      //     removeIndexes.push(i);\r\n      //   }\r\n      // }\r\n      // console.log(\"removeIndexes: \" + removeIndexes);\r\n      // for (let i = removeIndexes.length - 1; i >= 0; i--) {\r\n      //   this.items.splice(removeIndexes[i], 1);\r\n      // }\r\n\r\n      for (let i = this.items.length - 1; i >= 0; i--) {\r\n        if (this.items[i].checked == true) {\r\n          this.items.splice(i, 1);\r\n        }\r\n      }\r\n      this.allSelected = false;\r\n    },\r\n    totalQuantity() {\r\n      //https://fred-zone.blogspot.com/2017/01/javascript-mapreduce.html\r\n      //https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Array/map\r\n      //https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce\r\n      return this.items\r\n        .map((item) => parseInt(item.quantity, 10))\r\n        .reduce((acc, cur) => acc + cur, 0);\r\n    },\r\n    totalAmount() {\r\n      // return this.items.map(item => Math.round(item.listPrice * item.discount / 100) * parseInt(item.quantity, 10)).reduce((acc, cur) => acc + cur, 0);\r\n      return this.items\r\n        .map(\r\n          (item) =>\r\n            this.calSalePrice(item.listPrice, item.discount) *\r\n            parseInt(item.quantity, 10)\r\n        )\r\n        .reduce((acc, cur) => acc + cur, 0);\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MyShoppingcart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MyShoppingcart.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MyShoppingcart.vue?vue&type=template&id=3a92e147&scoped=true&\"\nimport script from \"./MyShoppingcart.vue?vue&type=script&lang=js&\"\nexport * from \"./MyShoppingcart.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3a92e147\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}