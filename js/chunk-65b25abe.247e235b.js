(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-65b25abe"],{"13d5":function(t,e,r){"use strict";var s=r("23e7"),a=r("d58f").left,i=r("a640"),n=r("ae40"),o=i("reduce"),c=n("reduce",{1:0});s({target:"Array",proto:!0,forced:!o||!c},{reduce:function(t){return a(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},7936:function(t,e,r){},7947:function(t,e,r){},"94f0":function(t,e,r){"use strict";var s=r("7936"),a=r.n(s);a.a},cf2a:function(t,e,r){"use strict";r.r(e);var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("b-row",{staticClass:"mt-3"},[r("b-col",{attrs:{md:"12"}},[r("b-card",{attrs:{header:"訂單明細","header-text-variant":"dark","header-tag":"header","header-bg-variant":"ivory"}},[r("b-table",{ref:"selectableTable",attrs:{striped:"",hover:"",stacked:"lg",fields:t.fields,items:t.items},scopedSlots:t._u([{key:"cell()",fn:function(e){return[r("span",{domProps:{textContent:t._s(e.value)}})]}},{key:"cell(name)",fn:function(e){return[r("router-link",{staticClass:"text-decoration-none text-primary",attrs:{to:"/product/"+e.item.isbn}},[r("span",{domProps:{textContent:t._s(e.value)}})])]}},{key:"cell(salePrice)",fn:function(e){return[r("span",{domProps:{textContent:t._s(t.salePrice(e))}})]}},{key:"cell(subtotal)",fn:function(e){return[r("span",{domProps:{textContent:t._s(t.calSubTotal(e))}})]}}])}),r("div",{staticClass:"d-flex bg-light"},[r("div",{staticClass:"ml-auto"},[r("p",{staticClass:"mt-3 mr-3"},[t._v(" 共 "),r("span",{staticClass:"text-danger"},[t._v(t._s(t.getItemsLength))]),t._v(" 項商品，數量 "),r("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.totalQuantity())}}),t._v(" 個，總金額 NT$ "),r("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.totalAmount())}}),t._v(" 元 ")])])])],1)],1)],1),t.isOrderNotEmpty?r("b-row",{staticClass:"mt-3"},[r("b-col",{attrs:{md:"12"}},[r("b-card",{attrs:{header:"付款方式及寄送資訊","header-text-variant":"dark","header-tag":"header","header-bg-variant":"ivory"}},[r("b-row",{},[r("b-col",{staticClass:"d-flex align-items-center ml-1",attrs:{md:"2"}},[r("label",{attrs:{for:"orderNo"}},[t._v("訂單編號")])]),r("b-col",{staticClass:"ml-1",attrs:{md:"9"}},[r("span",{attrs:{id:"orderNo"}},[t._v(t._s(t.getOrderNo))])])],1),r("b-row",{},[r("b-col",{staticClass:"d-flex align-items-center ml-1",attrs:{md:"2"}},[r("label",{attrs:{for:"orderNo"}},[t._v("訂單時間")])]),r("b-col",{staticClass:"ml-1",attrs:{md:"9"}},[r("span",{attrs:{id:"orderNo"}},[t._v(t._s(t.getOrderDate))])])],1),r("b-row",{},[r("b-col",{staticClass:"d-flex align-items-center ml-1",attrs:{md:"2"}},[r("label",{attrs:{for:"orderNo"}},[t._v("訂單狀態")])]),r("b-col",{staticClass:"ml-1",attrs:{md:"9"}},[r("span",{attrs:{id:"orderNo"}},[t._v(t._s(t.getOrderStatus))])])],1),r("b-row",{},[r("b-col",{staticClass:"d-flex align-items-center ml-1",attrs:{md:"2"}},[r("label",{attrs:{for:"deliver"}},[t._v("配送方式")])]),r("b-col",{staticClass:"ml-1",attrs:{md:"9"}},[r("span",{attrs:{id:"deliver"}},[t._v(t._s(t.getDeliver))])])],1),r("b-row",{},[r("b-col",{staticClass:"d-flex align-items-center ml-1",attrs:{md:"2"}},[r("label",{attrs:{for:"payment"}},[t._v("付款方式")])]),r("b-col",{staticClass:"ml-1",attrs:{md:"9"}},[r("span",{attrs:{id:"payment"}},[t._v(t._s(t.getPayment))])])],1),r("b-row",{},[r("b-col",{staticClass:"d-flex align-items-center ml-1",attrs:{md:"2"}},[r("label",{attrs:{for:"invoiceType"}},[t._v("發票資訊")])]),r("b-col",{staticClass:"ml-1",attrs:{md:"9"}},[r("span",{attrs:{id:"invoiceType"}},[t._v(t._s(t.getInvoiceType))])])],1),r("b-row",{},[r("b-col",{staticClass:"d-flex align-items-center ml-1",attrs:{md:"2"}},[r("label",{attrs:{for:"invoiceType"}},[t._v("發票號碼")])]),r("b-col",{staticClass:"ml-1",attrs:{md:"9"}},[r("span",{attrs:{id:"invoiceType"}},[t._v(t._s(t.getInvoiceNumber))])])],1),r("b-row",{},[r("b-col",{staticClass:"d-flex align-items-center ml-1",attrs:{md:"2"}},[r("label",{attrs:{for:"buyerName"}},[t._v("訂購人")])]),r("b-col",{staticClass:"ml-1",attrs:{md:"9"}},[r("span",{attrs:{id:"buyerName"},domProps:{textContent:t._s(t.getBuyer)}})])],1),r("b-row",{},[r("b-col",{staticClass:"d-flex align-items-center ml-1",attrs:{md:"2"}},[r("label",{attrs:{for:"receiverName"}},[t._v("收件人")])]),r("b-col",{staticClass:"ml-1",attrs:{md:"9"}},[r("span",{attrs:{id:"receiverName"},domProps:{textContent:t._s(t.getReceiverName)}})])],1),r("b-row",{},[r("b-col",{staticClass:"d-flex align-items-center ml-1",attrs:{md:"2"}},[r("label",{attrs:{for:"receiverContactNumber"}},[t._v("收件人聯絡電話")])]),r("b-col",{staticClass:"ml-1",attrs:{md:"9"}},[r("span",{attrs:{id:"receiverContactNumber"}},[t._v(t._s(t.getContactNumber))])])],1),r("b-row",{},[r("b-col",{staticClass:"d-flex align-items-center ml-1",attrs:{md:"2"}},[r("label",{attrs:{for:"receiverMobile"}},[t._v("收件人手機號碼")])]),r("b-col",{staticClass:"ml-1",attrs:{md:"9"}},[r("span",{attrs:{id:"receiverMobile"}},[t._v(t._s(t.getMobile))])])],1),r("b-row",{},[r("b-col",{staticClass:"d-flex align-items-center ml-1",attrs:{md:"2"}},[r("label",{attrs:{for:"receiverAddress"}},[t._v("收件人地址")])]),r("b-col",{staticClass:"ml-1",attrs:{md:"9"}},[r("span",{attrs:{id:"receiverAddress"}},[t._v(t._s(t.getAddress))])])],1)],1)],1)],1):t._e()],1)},a=[],i=(r("d81d"),r("13d5"),r("a49b")),n=(r("7947"),r("ecee")),o=r("c074"),c=r("5ce5"),l=r("325c");r("8897");n["c"].add(o["b"],o["a"]);var d={name:"Order",data:function(){return{fields:i["b"].orderFields,items:[],order:{}}},components:{},computed:{isOrderNotEmpty:function(){return!this.isEmpty(this.order)},getItemsLength:function(){return this.items.length},getOrderNo:function(){return this.order.orderNo},getOrderDate:function(){return this.order.orderDate},getOrderStatus:function(){var t;switch(this.order.orderStatus){case"PENDING":t="待處理";break;case"PROCESSING":t="處理中";break;case"SHIPPED":t="運送中";break;case"RETURNED":t="已退貨";break;case"CANCELED":t="已取消";break;default:t="未知";break}return t},getDeliver:function(){return"homeDelivery"===this.order.deliver?"宅配":"郵寄"},getPayment:function(){return"COD"===this.order.payment?"貨到付款":""},getInvoiceType:function(){return"paper"===this.order.invoiceType?"紙本發票":""},getInvoiceNumber:function(){return this.order.invoiceNumber},getBuyer:function(){return this.order.buyer},getReceiverName:function(){return this.order.receiverName},getContactNumber:function(){console.log("this.order.receiverExt.length : ",this.order.receiverExt.length);var t=this.order.receiverExt.length,e=0==t?"":" 分機 "+this.order.receiverExt;return this.order.receiverArea+"-"+this.order.receiverPhone+e},getMobile:function(){return this.order.receiverMobile},getAddress:function(){return this.order.zipcode+this.order.county+this.order.district+this.order.receiverAddress},getQRCode:function(){return this.QRCode}},methods:{isEmpty:function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0},salePrice:function(t){return t.item.salePrice=this.calSalePrice(t.item.listPrice,t.item.discount),t.item.salePrice},calSalePrice:function(t,e){return Math.round(t*e/100)},calSubTotal:function(t){return t.item.salePrice*t.item.quantity},totalQuantity:function(){return this.items.map((function(t){return parseInt(t.quantity,10)})).reduce((function(t,e){return t+e}),0)},totalAmount:function(){var t=this;return this.items.map((function(e){return t.calSalePrice(e.listPrice,e.discount)*parseInt(e.quantity,10)})).reduce((function(t,e){return t+e}),0)}},mounted:function(){},created:function(){var t=this;c["a"].setHeader(),c["a"].get("order",this.$route.params.orderNo).then((function(e){console.log("Order.vue created response : "+JSON.stringify(e)),c["a"].deleteHeader(),t.items=JSON.parse(JSON.stringify(e.data.items)),t.order=JSON.parse(JSON.stringify(e.data.order))})).catch((function(e){if(console.log("err : "+e),console.log("err JSON.stringify : "+JSON.stringify(e)),console.log("err.response : "+JSON.stringify(e.response)),e.response.data.message){console.log("err.response.data.message : "+e.response.data.message),c["a"].deleteHeader();var r=l["a"].checkJWTExpired(e,t);t.$store.dispatch("modal/setModalMsg",r),t.$store.dispatch("modal/setModalShow",!0)}}))}},m=d,u=(r("94f0"),r("2877")),f=Object(u["a"])(m,s,a,!1,null,null,null);e["default"]=f.exports},d58f:function(t,e,r){var s=r("1c0b"),a=r("7b0b"),i=r("44ad"),n=r("50c4"),o=function(t){return function(e,r,o,c){s(r);var l=a(e),d=i(l),m=n(l.length),u=t?m-1:0,f=t?-1:1;if(o<2)while(1){if(u in d){c=d[u],u+=f;break}if(u+=f,t?u<0:m<=u)throw TypeError("Reduce of empty array with no initial value")}for(;t?u>=0:m>u;u+=f)u in d&&(c=r(c,d[u],u,l));return c}};t.exports={left:o(!1),right:o(!0)}},d81d:function(t,e,r){"use strict";var s=r("23e7"),a=r("b727").map,i=r("1dde"),n=r("ae40"),o=i("map"),c=n("map");s({target:"Array",proto:!0,forced:!o||!c},{map:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=chunk-65b25abe.247e235b.js.map